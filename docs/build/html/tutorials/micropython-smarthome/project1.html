

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Project 1: Đèn điều khiển từ xa &mdash; OhStem Product Documents 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">xController</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../board/introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/hardware.html">Phần cứng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/drive.html">Cài đặt Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/app.html">Phần mềm lập trình</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/flashburn.html">Cập nhật Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/micropython-api/index.html">MicroPython API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/arduino-api/index.html">Arduino API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Thành phần bộ kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../micropython/index.html">Hướng dẫn lập trình MicroPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arduino/index.html">Hướng dẫn lập trình Arduino</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/hardware.html">Phần cứng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/drive.html">Cài đặt Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/app.html">Phần mềm lập trình</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/flashburn.html">Cập nhật Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit/blockapi.html">Yolo:Bit Block API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Phần mềm Ohstem App</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../app/introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/install.html">Cài đặt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/frontend.html">Giao diện</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/connect.html">Kết nối</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/runandsave.html">Chạy và lưu project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/createnew.html">Tạo một mục mở rộng mới</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/blockapi.html">Block API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Product Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Project 1: Đèn điều khiển từ xa</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/username/reponame/blob/mastertutorials/micropython-smarthome/project1.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="project-1-den-dieu-khien-tu-xa">
<h1>Project 1: Đèn điều khiển từ xa<a class="headerlink" href="#project-1-den-dieu-khien-tu-xa" title="Permalink to this headline">¶</a></h1>
<div class="section" id="muc-tieu">
<h2>Mục tiêu<a class="headerlink" href="#muc-tieu" title="Permalink to this headline">¶</a></h2>
<p>Bạn vừa lên giường trùm chăn ấm và chợt nhận ra là quên chưa tắt đèn, hay bạn băn khoăn không biết vừa nãy đã tắt điện phòng tắm chưa. Nếu ở trong những tình huống này, bạn sẽ làm gì?</p>
<p>Sẽ rất thuận tiện nếu bạn có thể bật tắt đèn từ xa bằng remote phải không nào? Ngoài ra, không chỉ là bật tắt, chúng ta sẽ dùng remote để điều chỉnh độ sáng đèn phù hợp cho nhiều hoàn cảnh sử dụng như đọc sách, xem phim hay khi chuẩn bị đi ngủ.</p>
<p>Trong dự án này, chúng ta sẽ dùng đèn LED RGB có trên hộp điều khiển xController để mô phỏng đèn trong nhà và sử dụng remote hồng ngoại để có thể:</p>
<blockquote>
<div><ul class="simple">
<li><p>Tăng giảm độ sáng bằng 2 phím <code class="docutils literal notranslate"><span class="pre">lên</span></code> và <code class="docutils literal notranslate"><span class="pre">xuống</span></code>. Mỗi lần tăng giảm 25% độ sáng.</p></li>
<li><p>Bật hoặc tắt đèn LED bằng phím <code class="docutils literal notranslate"><span class="pre">Setup</span></code></p></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../../_images/project-1-12.png"><img alt="../../_images/project-1-12.png" class="align-center" src="../../_images/project-1-12.png" style="width: 320px;" /></a>
</div>
<div class="section" id="thiet-bi-can-su-dung">
<h2>Thiết bị cần sử dụng<a class="headerlink" href="#thiet-bi-can-su-dung" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../../_images/project-1-22.png"><img alt="../../_images/project-1-22.png" class="align-center" src="../../_images/project-1-22.png" style="width: 420px;" /></a>
</div>
<div class="section" id="viet-chuong-trinh">
<h2>Viết chương trình<a class="headerlink" href="#viet-chuong-trinh" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p>Mở phần mềm uPyCraft.</p></li>
<li><p>Tạo một file chương trình mới (<code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">New</span></code>) và lưu với tên main.py bằng cách chọn menu <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">&gt;</span> <span class="pre">Save…</span></code>.</p></li>
<li><p>Copy đoạn code sau, click vào nút <code class="docutils literal notranslate"><span class="pre">DownloadAndRun</span></code> để chạy chương trình.</p></li>
</ul>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ir_receiver</span> <span class="kn">import</span> <span class="o">*</span><span class="p">;</span> <span class="n">ir_rx</span><span class="o">.</span><span class="n">start</span><span class="p">();</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
  <span class="k">if</span> <span class="n">ir_rx</span><span class="o">.</span><span class="n">get_code</span><span class="p">()</span> <span class="o">==</span> <span class="n">IR_REMOTE_UP</span><span class="p">:</span>
    <span class="n">light_level</span> <span class="o">=</span> <span class="n">light_level</span> <span class="o">+</span> <span class="mi">50</span>
    <span class="k">if</span> <span class="n">light_level</span> <span class="o">&gt;</span> <span class="mi">255</span><span class="p">:</span>
      <span class="n">light_level</span> <span class="o">=</span> <span class="mi">255</span>
    <span class="n">ir_rx</span><span class="o">.</span><span class="n">clear_code</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">ir_rx</span><span class="o">.</span><span class="n">get_code</span><span class="p">()</span> <span class="o">==</span> <span class="n">IR_REMOTE_DOWN</span><span class="p">:</span>
    <span class="n">light_level</span> <span class="o">=</span> <span class="n">light_level</span> <span class="o">-</span> <span class="mi">50</span>
    <span class="k">if</span> <span class="n">light_level</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">light_level</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">ir_rx</span><span class="o">.</span><span class="n">clear_code</span><span class="p">()</span>
  <span class="k">elif</span> <span class="n">ir_rx</span><span class="o">.</span><span class="n">get_code</span><span class="p">()</span> <span class="o">==</span> <span class="n">IR_REMOTE_SETUP</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">light_level</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="n">light_level</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="n">light_level</span> <span class="o">=</span> <span class="mi">255</span>
    <span class="n">ir_rx</span><span class="o">.</span><span class="n">clear_code</span><span class="p">()</span>
  <span class="n">led_onboard</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">light_level</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="giai-thich-chuong-trinh">
<h2>Giải thích chương trình<a class="headerlink" href="#giai-thich-chuong-trinh" title="Permalink to this headline">¶</a></h2>
<p>Chương trình sử dụng các lệnh đã học ở những bài học trước về remote và đèn LED RGB. Chúng ta dùng biến tên <code class="docutils literal notranslate"><span class="pre">light_level</span></code> (có kiểu là int) để lưu độ sáng hiện tại của đèn LED và thay đổi độ sáng tùy vào phím được nhấn.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, OHSTEM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>