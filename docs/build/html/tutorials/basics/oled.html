

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>2. Display &mdash; OhStem Product Documents 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3. RGB LED" href="neopixel.html" />
    <link rel="prev" title="1. REPL" href="repl.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../board/index.html">xController Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Micropython Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Basic Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="repl.html">1. REPL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. Display</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#text-display">2.1. Text Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-shape-drawing">2.2. Basic shape drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#display-image">2.3. Display Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-display">2.4. Dynamic display</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="neopixel.html">3. RGB LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="buzz.html">4. Music</a></li>
<li class="toctree-l2"><a class="reference internal" href="buttons.html">5. Key Button</a></li>
<li class="toctree-l2"><a class="reference internal" href="touchpad.html">6. Touchpad</a></li>
<li class="toctree-l2"><a class="reference internal" href="sound.html">7. Microphone</a></li>
<li class="toctree-l2"><a class="reference internal" href="light.html">8. Light Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="accelerometer.html">9. Accelerometer</a></li>
<li class="toctree-l2"><a class="reference internal" href="network/index.html">10. Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="uart.html">11. Serial Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="io/index.html">12. Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advance/index.html">Advance Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Arduino Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Basic Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="repl.html">1. REPL</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. Display</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#text-display">2.1. Text Display</a></li>
<li class="toctree-l3"><a class="reference internal" href="#basic-shape-drawing">2.2. Basic shape drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="#display-image">2.3. Display Image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-display">2.4. Dynamic display</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="neopixel.html">3. RGB LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="buzz.html">4. Music</a></li>
<li class="toctree-l2"><a class="reference internal" href="buttons.html">5. Key Button</a></li>
<li class="toctree-l2"><a class="reference internal" href="touchpad.html">6. Touchpad</a></li>
<li class="toctree-l2"><a class="reference internal" href="sound.html">7. Microphone</a></li>
<li class="toctree-l2"><a class="reference internal" href="light.html">8. Light Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="accelerometer.html">9. Accelerometer</a></li>
<li class="toctree-l2"><a class="reference internal" href="network/index.html">10. Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="uart.html">11. Serial Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="io/index.html">12. Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../advance/index.html">Advance Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../library/micropython-api/index.html">MicroPython Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../library/arduino-api/index.html">Arduino Library</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Product Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Basic Tutorials</a> &raquo;</li>
        
      <li><span class="section-number">2. </span>Display</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/username/reponame/blob/mastertutorials/basics/oled.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="display">
<h1><span class="section-number">2. </span>Display<a class="headerlink" href="#display" title="Permalink to this headline">¶</a></h1>
<p>The mPython Board has a 1.3-inch OLED display with a resolution of 128x64. Use <a class="reference external" href="http://www.google.cn/get/noto/help/cjk/">Google Noto Sans CJK</a> Open source sans serif font. Font height 16 pixels. Supporting Chinese (both simplified and traditional), Korean, Japanese, latin alphabet and others text characters.</p>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<p>OLED is a derived class of <code class="docutils literal notranslate"><span class="pre">machine.framebuf</span></code> , so the method of inheriting framebuf can be consulted for details.  <code class="xref py py-meth docutils literal notranslate"><span class="pre">framebuf()</span></code>。</p>
</div>
<div class="section" id="text-display">
<h2><span class="section-number">2.1. </span>Text Display<a class="headerlink" href="#text-display" title="Permalink to this headline">¶</a></h2>
<p>Before use, first import the mpython module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpython</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p><cite>hello,world</cite> text display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># It is easy to see how the characters are displayed on the display, and the mode selects the pixel flip mode</span>
<span class="n">oled</span><span class="o">.</span><span class="n">DispChar</span><span class="p">(</span><span class="s1">&#39;hello,world!&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="n">TextMode</span><span class="o">.</span><span class="n">rev</span><span class="p">)</span>
<span class="c1"># In the default mode, the background pixels of the character are off</span>
<span class="n">oled</span><span class="o">.</span><span class="n">DispChar</span><span class="p">(</span><span class="s1">&#39;hello,world!&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="n">mode</span><span class="o">=</span><span class="n">TextMode</span><span class="o">.</span><span class="n">normal</span><span class="p">)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="../images/tutorials/display_char_pixel.png"><img alt="../images/tutorials/display_char_pixel.png" src="../images/tutorials/display_char_pixel.png" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">How character pixels are displayed on the mPython Board screen</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>DispChar(str,x,y) function can write text with coordinates in the upper left corner to FrameBuffer. <code class="docutils literal notranslate"><span class="pre">str</span></code> is for displaying text content, supports simplified Chinese, traditional Chinese, Japanese and Korean languages. <code class="docutils literal notranslate"><span class="pre">x</span></code> <code class="docutils literal notranslate"><span class="pre">y</span></code> is OLED display
Starting xy coordinates. <cite>oled.show()</cite> to send FrameBuffer to OLED to refresh and display the screen。</p></li>
<li><p>Noto Sans CJK 16-pixel constant-height, unequal-width fonts are used. Different characters, the width will be different, as shown above。</p></li>
</ul>
<div class="figure align-center" id="id2">
<img alt="../images/mPythonBoard-FrontView.png" src="../images/mPythonBoard-FrontView.png" />
<p class="caption"><span class="caption-text">Multiple language hello,world display</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>In addition to clearing the display, you can also light up the entire screen pixels:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>fill() fills the entire FrameBuffer area.</p>
</div>
<p>OLED display also supports setting of brightness of the screen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">contrast</span><span class="p">(</span><span class="n">brightness</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Range of brightness value is 0~255。</p>
</div>
</div>
<div class="section" id="basic-shape-drawing">
<h2><span class="section-number">2.2. </span>Basic shape drawing<a class="headerlink" href="#basic-shape-drawing" title="Permalink to this headline">¶</a></h2>
<a class="reference internal image-reference" href="../images/tutorials/drawline.gif"><img alt="../images/tutorials/drawline.gif" class="align-center" src="../images/tutorials/drawline.gif" /></a>
<p>OLED can draw some points, lines, rectangles and other shapes.</p>
<p>Pixel display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">pixel</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#Set (50,0) pixel to 1, light up</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>          <span class="c1">#Refresh the display</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>oled.pixel(x, y, [c] ) Can display pixel points,  <code class="docutils literal notranslate"><span class="pre">x</span></code> ， <code class="docutils literal notranslate"><span class="pre">y</span></code> are point coordinates (x, y). <code class="docutils literal notranslate"><span class="pre">c</span></code> is the color value, when it is 1, the pixel is lit, if it is 0, it is no. If c is not given, get the color value of the specified pixel.
If c is given, set the specified pixel to the given color.</p>
</div>
<p>Draw line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">hline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">#Draw a horizontal line, starting point coordinates (0,1), line length 20</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">oled</span><span class="o">.</span><span class="n">vline</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">#Draw a vertical line, starting point coordinates (10, 10), line length 20</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">oled</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">80</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  <span class="c1">#Draw a line in the direction of the start coordinate (15, 15) and end coordinate (80, 20)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>oled.hline(x, y, w, c ) You can draw a horizontal line, <code class="docutils literal notranslate"><span class="pre">x</span></code> ， <code class="docutils literal notranslate"><span class="pre">y</span></code> are the point coordinates (x, y), <code class="docutils literal notranslate"><span class="pre">w</span></code> is the line width, and <code class="docutils literal notranslate"><span class="pre">c</span></code> is the color value.</p></li>
<li><p>oled.vline(x, y, l, c ) You can draw vertical lines same way as above.</p></li>
<li><p>oled.line(x1, y1, x2, y2, c) Can draw lines in any direction, starting coordinate (x1, y1), ending coordinate (x2, y2), <code class="docutils literal notranslate"><span class="pre">c</span></code> is the color value.</p></li>
</ul>
</div>
<p>Draw hollow / solid rectangle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">30</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#Draw a rectangle with starting coordinates (60, 25), width 30, height 25</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">oled</span><span class="o">.</span><span class="n">fill_rect</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">25</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>   <span class="c1">#Draw the starting coordinates (100, 25), width 20, height 25 fill the rectangle with full color</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>oled.rect(x, y, w, h, c) is used to draw a rectangular frame. A rectangular frame with a starting coordinate of (x, y), width  <code class="docutils literal notranslate"><span class="pre">w</span></code> , height <code class="docutils literal notranslate"><span class="pre">h</span></code> , <code class="docutils literal notranslate"><span class="pre">c</span></code> is the color value.</p></li>
<li><p>oled.fill_rect(x, y, w, h, c) is used to draw a rectangle of fill color in the same way as rect(). Unlike rect(), only draw a rectangular frame.</p></li>
</ul>
</div>
<p>Draw arc rectangle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">RoundRect</span><span class="p">(</span><span class="mi">40</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1">#Draw an arc rectangle with starting coordinates (40, 25), width 50, height 30, and arc radius 5</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>oled.RoundRect(x, y, w, h, r, c)is used to draw arc rectangle. A rectangular frame with a starting coordinate of (x, y), width  <code class="docutils literal notranslate"><span class="pre">w</span></code> ， height <code class="docutils literal notranslate"><span class="pre">h</span></code> , arc radius  <code class="docutils literal notranslate"><span class="pre">r</span></code> and <code class="docutils literal notranslate"><span class="pre">c</span></code> as color value.</p>
</div>
<p>For more OLED display operation and shape drawing, please refer to <span class="xref std std-ref">oled object</span> 。</p>
</div>
<div class="section" id="display-image">
<h2><span class="section-number">2.3. </span>Display Image<a class="headerlink" href="#display-image" title="Permalink to this headline">¶</a></h2>
<p>First of all, we need to process the image into a size 128 * 64, a color depth of 1 or bmp format in black and white mode. You can use Photoshop or other image processing software.</p>
<p>The next step is to use the modulo tool to modulo the picture. There are PCtoLCD, lcd image converter and other module-taking software on the Internet, you can choose according to your preferences. The following is used <code class="xref download docutils literal notranslate"><span class="pre">Img2Lcd</span> <span class="pre">tool</span></code> 。</p>
<ul class="simple">
<li><p>Step 1. Import 128x64, bmp format pictures</p></li>
<li><p>Step 2. Select parameters, output data type [C language array]、  scan mode [horizontal scan]、grayscale output [monochrome]、width and height [128*64]</p></li>
<li><p>Step 3. Click Save to automatically generate modulus data.</p></li>
</ul>
<img alt="../images/tutorials/image2lcd.png" src="../images/tutorials/image2lcd.png" />
<p>Assign the modulus data to the bmp array and display it on the OLED display.</p>
<a class="reference internal image-reference" href="../images/tutorials/earth.png"><img alt="../images/tutorials/earth.png" class="align-center" src="../images/tutorials/earth.png" /></a>
<p>After assigning the modulus data to the bmp array, draw the picture to the OLED display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">bitmap</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">bmp</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>oled.bitmap(x, y, bitmap, w, h, c) can draw bitmap patterns, <code class="docutils literal notranslate"><span class="pre">x</span></code> 、<code class="docutils literal notranslate"><span class="pre">y</span></code> are the coordinates x, y of the starting point of the upper left corner, <code class="docutils literal notranslate"><span class="pre">bitmap</span></code> is the name of the pattern btyearray byte array, <code class="docutils literal notranslate"><span class="pre">w</span></code> is the width of the pattern, <code class="docutils literal notranslate"><span class="pre">h</span></code> is the height of the pattern, <code class="docutils literal notranslate"><span class="pre">c</span></code> is the color value, the pixel is on when <code class="docutils literal notranslate"><span class="pre">1</span></code> and the pixel is off when``0`` .</p>
</div>
</div>
<div class="section" id="dynamic-display">
<h2><span class="section-number">2.4. </span>Dynamic display<a class="headerlink" href="#dynamic-display" title="Permalink to this headline">¶</a></h2>
<p>Combined with the display of the above still frames, you can divide the dynamic picture to be displayed into each frame and send it to the OLED display to display it frame by frame！</p>
<p>Different from the above picture using bmp format. This time use pbm (Portable BitMap) format pictures, you can use Photoshop to convert to pbm format.</p>
<p>pbm data format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">P4</span>
<span class="c1">#CREATOR：GIMP PNM filter version 1.1</span>
<span class="mi">128</span> <span class="mi">64</span>
<span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The first three lines of the pbm data format are set to label the image. Then the image data. The first line indicates the image format, and the second line is a comment, usually the program used to create it. The third line is the image size。
The latter is the image data we need. Data storage per pixel bit stream, <code class="docutils literal notranslate"><span class="pre">1</span></code> means pixel is on, <code class="docutils literal notranslate"><span class="pre">0</span></code> means pixel is off.</p>
<p><code class="xref download docutils literal notranslate"><span class="pre">Dynamic</span> <span class="pre">display</span> <span class="pre">material</span> <span class="pre">download</span></code></p>
<p>First upload the pre-prepared pbm pictures of each frame to the root directory of the file system of the control panel.</p>
<img alt="../images/tutorials/scatman.gif" class="align-center" src="../images/tutorials/scatman.gif" />
<p>IMport mpython and framebuf module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpython</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">framebuf</span>
</pre></div>
</div>
<p>Open each frame of picture in binary read-only format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;scatman.</span><span class="si">%s</span><span class="s1">.pbm&#39;</span> <span class="o">%</span> <span class="n">n</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>       <span class="c1"># Image format</span>
    <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>       <span class="c1"># explanatory note</span>
    <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>       <span class="c1"># Image size</span>
    <span class="n">data</span> <span class="o">=</span> <span class="nb">bytearray</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="n">fbuf</span> <span class="o">=</span> <span class="n">framebuf</span><span class="o">.</span><span class="n">FrameBuffer</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="n">framebuf</span><span class="o">.</span><span class="n">MONO_HLSB</span><span class="p">)</span>
<span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fbuf</span><span class="p">)</span>     <span class="c1">#Assign each frame of data to the list</span>
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">file.read()</span></code> in the program to read the image data stream frame by frame. Note, the first three lines are not the data we need, use  <code class="docutils literal notranslate"><span class="pre">readlines()</span></code>  to discard it. Create a FrameBuffer object for each frame of data stream and store all frame buffers in the images list.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>open(file, mode) is used to open a file and return the file object. <code class="docutils literal notranslate"><span class="pre">file</span></code>  is the file name, <code class="docutils literal notranslate"><span class="pre">mode</span></code> mode to open file, <code class="docutils literal notranslate"><span class="pre">rb</span></code>  Open a file in binary format for read-only, generally used for non-text files such as pictures, etc.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>framebuf.FrameBuffer(buffer, width, height, format) can build frame buffer objects,  <code class="docutils literal notranslate"><span class="pre">buffer</span></code> buffer data, <code class="docutils literal notranslate"><span class="pre">width</span></code> is the picture width，<code class="docutils literal notranslate"><span class="pre">height</span></code> is the picture height，<code class="docutils literal notranslate"><span class="pre">format</span></code> is the format of FrameBuffer, That is, the scan mode of data output when the corresponding picture is taken：<code class="docutils literal notranslate"><span class="pre">framebuf.MONO_HLSB</span></code> is horizontal；<code class="docutils literal notranslate"><span class="pre">framebuf.MONO_VLSB</span></code> is vertical.</p>
</div>
<p>Display the stored frame buffer frame by frame to the OLED display:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oled</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">oled</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>oled.blit(fbuf, x, y) use OLED to display picture frames，<code class="docutils literal notranslate"><span class="pre">fbuf</span></code> as FrameBuffer object, <code class="docutils literal notranslate"><span class="pre">x</span></code> 、<code class="docutils literal notranslate"><span class="pre">y</span></code> coordinates x、y of the starting point.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="neopixel.html" class="btn btn-neutral float-right" title="3. RGB LED" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="repl.html" class="btn btn-neutral float-left" title="1. REPL" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, OHSTEM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>