<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4. Bài 2: Bãi đậu xe thông minh &mdash; OhStem Education Wiki 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="5. Bài 3: Thùng rác thông minh" href="bai-3.html" />
    <link rel="prev" title="3. Bài 1: Đèn công cộng thông minh" href="bai-1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html">Đi tới cửa hàng</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../rover.html"><strong>Rover - Kit robot lập trình</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiot.html"><strong>AIoT Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gioi-thieu-citybit.html">1. Giới thiệu thành phố thông minh City:Bit</a></li>
<li class="toctree-l2"><a class="reference internal" href="cai-dat-thu-vien.html">2. Cài đặt thư viện City:Bit</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-1.html">3. Bài 1: Đèn công cộng thông minh</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4. Bài 2: Bãi đậu xe thông minh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#muc-tieu">Mục tiêu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ket-noi">Kết nối</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lap-rap-mo-hinh">Lắp ráp mô hình</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gioi-thieu-khoi-lenh">Giới thiệu khối lệnh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gioi-thieu-ve-bien">Giới thiệu về biến</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viet-chuong-trinh">Viết chương trình</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chuong-trinh-mau">Chương trình mẫu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bai-3.html">5. Bài 3: Thùng rác thông minh</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-4.html">6. Bài 4: Hệ thống cảnh báo tiếng ồn</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-5.html">7. Bài 5: Hệ thống cảnh báo tốc độ</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-6.html">8. Bài 6: Đèn giao thông</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-7.html">9. Bài 7: Hệ thống theo dõi thời tiết và chất lượng không khí</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-8.html">10. Bài 8: Hệ thống phát hiện ngập nước</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/micropython/index.html"><strong>Hướng dẫn lập trình MicroPython</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/arduino/index.html"><strong>Hướng dẫn lập trình Arduino</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/gamekit.html">Hướng dẫn lập trình GameKit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/cam-bien.html"><strong>Cảm biến</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Education Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a> &raquo;</li>
      <li>4. Bài 2: Bãi đậu xe thông minh</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/masteryolobit_v2/citybit/bai-2.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bai-2-bai-dau-xe-thong-minh">
<h1>4. Bài 2: Bãi đậu xe thông minh<a class="headerlink" href="#bai-2-bai-dau-xe-thong-minh" title="Permalink to this heading"></a></h1>
<section id="muc-tieu">
<h2>Mục tiêu<a class="headerlink" href="#muc-tieu" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p>Trong bài này, chúng ta sẽ cùng lập trình một bãi đậu xe thông minh có thể tự động mở thanh chắn để xe vào (nếu chỗ đậu xe còn trống). Nếu bãi xe đầy, đèn LED trên Yolo:Bit sẽ đổi thành màu đỏ để báo hiệu.</p>
</section>
<section id="ket-noi">
<h2>Kết nối<a class="headerlink" href="#ket-noi" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Cảm biến ánh sáng (P0)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.11.png"><img alt="../../_images/bai_2.11.png" class="align-center" src="../../_images/bai_2.11.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Cảm biến khoảng cách (P10-P13)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.21.png"><img alt="../../_images/bai_2.21.png" class="align-center" src="../../_images/bai_2.21.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Động cơ Servo (P4)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.31.png"><img alt="../../_images/bai_2.31.png" class="align-center" src="../../_images/bai_2.31.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Kết nối</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.41.png"><img alt="../../_images/bai_2.41.png" class="align-center" src="../../_images/bai_2.41.png" style="width: 600px;" /></a>
</div></blockquote>
</section>
<section id="lap-rap-mo-hinh">
<h2>Lắp ráp mô hình<a class="headerlink" href="#lap-rap-mo-hinh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Trước khi lắp ráp, bạn cần căn chỉnh Servo về góc 20 để hoạt động chính xác. Thực hiện như sau:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kết nối Servo vào chân P4 trên mạch mở rộng đã gắn Yolo:Bit</p></li>
<li><p>Kết nối Yolo:Bit với Ohstem App và tiến hành lập trình.</p></li>
<li><p>Tạo chương trình như hình minh họa</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_2.51.png"><img alt="../../_images/bai_2.51.png" class="align-center" src="../../_images/bai_2.51.png" style="width: 600px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Nhấn nút chạy chương trình</p></li>
<li><p>Ngắt kết nối Servo với nguồn điện (tránh vừa cắm điện vừa gắn làm quay Servo gây hư hại thiết bị)</p></li>
</ol>
</div></blockquote>
</li>
<li><p>Tiến hành lắp ráp:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.61.png"><img alt="../../_images/bai_2.61.png" class="align-center" src="../../_images/bai_2.61.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_2.71.png"><img alt="../../_images/bai_2.71.png" class="align-center" src="../../_images/bai_2.71.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_2.81.png"><img alt="../../_images/bai_2.81.png" class="align-center" src="../../_images/bai_2.81.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Đặt cảm biến ánh sáng lên vị trí bãi đỗ nằm trên bản đồ như hình minh họa</p>
<a class="reference internal image-reference" href="../../_images/bai_2.91.png"><img alt="../../_images/bai_2.91.png" class="align-center" src="../../_images/bai_2.91.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="gioi-thieu-khoi-lenh">
<h2>Giới thiệu khối lệnh<a class="headerlink" href="#gioi-thieu-khoi-lenh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.10.png"><img alt="../../_images/bai_2.10.png" class="align-center" src="../../_images/bai_2.10.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_2.111.png"><img alt="../../_images/bai_2.111.png" class="align-center" src="../../_images/bai_2.111.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_2.12.png"><img alt="../../_images/bai_2.12.png" class="align-center" src="../../_images/bai_2.12.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_2.13.png"><img alt="../../_images/bai_2.13.png" class="align-center" src="../../_images/bai_2.13.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="gioi-thieu-ve-bien">
<h2>Giới thiệu về biến<a class="headerlink" href="#gioi-thieu-ve-bien" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Để thay đổi độ sáng của đèn LED tương ứng với điều khiển từ remote, chúng ta cần sử dụng đến biến. Có thể hiểu, biến như một chiếc hộp, nơi chứa giá trị mà ta cần sử dụng.</p></li>
<li><p>Mỗi hộp chỉ có thể chứa duy nhất một giá trị (chữ, số, chuỗi, dữ liệu) tại một thời điểm. Trong trường hợp này, biến sẽ chứa giá  trị số, đại diện cho mức độ sáng của đèn.</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.14.png"><img alt="../../_images/bai_2.14.png" class="align-center" src="../../_images/bai_2.14.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Cách tạo và sử dụng biến</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Bạn cần vào mục Biến và chọn Tạo biến. Sau đó, điền tên cho biến mới để tạo.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_2.15.png"><img alt="../../_images/bai_2.15.png" class="align-center" src="../../_images/bai_2.15.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Khi tạo biến thành công, trong mục Biến sẽ xuất hiện những khối lệnh liên quan để làm việc với biến.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_2.16.png"><img alt="../../_images/bai_2.16.png" class="align-center" src="../../_images/bai_2.16.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="viet-chuong-trinh">
<h2>Viết chương trình<a class="headerlink" href="#viet-chuong-trinh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ol class="arabic">
<li><p>Tạo một biến mới tên <strong>“Bãi xe hết chỗ”</strong> và gán giá trị sai vào biến (đồng nghĩa với bãi xe vẫn còn chỗ trống):</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.26.png"><img alt="../../_images/bai_2.26.png" class="align-center" src="../../_images/bai_2.26.png" style="width: 500px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Khởi tạo cảm biến khoảng cách P10/P13 và quay Servo đến góc 20 (để đóng thanh chắn):</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.17.png"><img alt="../../_images/bai_2.17.png" class="align-center" src="../../_images/bai_2.17.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Tạo điều kiện: nếu bãi xe còn trống (cảm biến ánh sáng không phát hiện xe, độ sáng &gt; 40), gán giá trị sai cho biến bãi xe hết chỗ, đồng thời bật đèn LED màu xanh để báo hiệu</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.18.png"><img alt="../../_images/bai_2.18.png" class="align-center" src="../../_images/bai_2.18.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Nếu không, gán giá trị đúng cho biến và đổi màu đèn LED thành màu đỏ</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.19.png"><img alt="../../_images/bai_2.19.png" class="align-center" src="../../_images/bai_2.19.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Tạo thêm 1 điều kiện lồng ghép: nếu phát hiện có xe (khoảng cách đến xe &lt; 5cm)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.20.png"><img alt="../../_images/bai_2.20.png" class="align-center" src="../../_images/bai_2.20.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Trong trường hợp bãi xe còn chỗ trống (biến bãi xe hết chỗ có giá trị sai): quay Servo đến góc 20 độ để mở thanh chắn, tạm dừng 500 mili giây:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.211.png"><img alt="../../_images/bai_2.211.png" class="align-center" src="../../_images/bai_2.211.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Phát bài nhạc POWER_UP để báo hiệu, chờ 3 giây để xe di chuyển vào và bắt đầu đóng thanh chắn (quay Servo đến góc 110 độ):</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.22.png"><img alt="../../_images/bai_2.22.png" class="align-center" src="../../_images/bai_2.22.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Trong trường hợp bãi xe đã đầy chỗ (biến có giá trị đúng): Phát bài nhạc POWER_DOWN để báo hiệu và tạm dừng chương trình trong 5 giây để xe rời khỏi bãi đậu, tránh trường hợp phát nhạc liên tục</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.23.png"><img alt="../../_images/bai_2.23.png" class="align-center" src="../../_images/bai_2.23.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Thêm tạm dừng 0.1 giây (100ms) vào cuối chương trình. Chương trình trong phần lặp lại mãi như sau:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_2.24.png"><img alt="../../_images/bai_2.24.png" class="align-center" src="../../_images/bai_2.24.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="chuong-trinh-mau">
<h2>Chương trình mẫu<a class="headerlink" href="#chuong-trinh-mau" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p>Bãi đậu xe thông minh: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2Bq9xkbPikV3miDqgL6cCrCAtj8">Tại đây</a></p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_2.27.png"><img alt="../../_images/bai_2.27.png" class="align-center" src="../../_images/bai_2.27.png" style="width: 200px;" /></a>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bai-1.html" class="btn btn-neutral float-left" title="3. Bài 1: Đèn công cộng thông minh" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bai-3.html" class="btn btn-neutral float-right" title="5. Bài 3: Thùng rác thông minh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>