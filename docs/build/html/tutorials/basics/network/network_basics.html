

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>10.1. Network Basic &mdash; OhStem Product Documents 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="10.2. Introduction to TCP/IP" href="tcpip.html" />
    <link rel="prev" title="10. Network" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../board/index.html">xController Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Micropython Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Basic Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../repl.html">1. REPL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oled.html">2. Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="../neopixel.html">3. RGB LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buzz.html">4. Music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buttons.html">5. Key Button</a></li>
<li class="toctree-l2"><a class="reference internal" href="../touchpad.html">6. Touchpad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound.html">7. Microphone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../light.html">8. Light Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accelerometer.html">9. Accelerometer</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">10. Network</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">10.1. Network Basic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sta-mode">10.1.1. STA mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap-mode">10.1.2. AP mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tcpip.html">10.2. Introduction to TCP/IP</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcp.html">10.3. Socket - TCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="udp.html">10.4. Socket - UDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html">10.5. HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_json.html">10.6. Parsing JSON</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uart.html">11. Serial Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io/index.html">12. Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advance/index.html">Advance Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Arduino Tutorial</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Basic Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../repl.html">1. REPL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oled.html">2. Display</a></li>
<li class="toctree-l2"><a class="reference internal" href="../neopixel.html">3. RGB LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buzz.html">4. Music</a></li>
<li class="toctree-l2"><a class="reference internal" href="../buttons.html">5. Key Button</a></li>
<li class="toctree-l2"><a class="reference internal" href="../touchpad.html">6. Touchpad</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sound.html">7. Microphone</a></li>
<li class="toctree-l2"><a class="reference internal" href="../light.html">8. Light Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accelerometer.html">9. Accelerometer</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">10. Network</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">10.1. Network Basic</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sta-mode">10.1.1. STA mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ap-mode">10.1.2. AP mode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tcpip.html">10.2. Introduction to TCP/IP</a></li>
<li class="toctree-l3"><a class="reference internal" href="tcp.html">10.3. Socket - TCP</a></li>
<li class="toctree-l3"><a class="reference internal" href="udp.html">10.4. Socket - UDP</a></li>
<li class="toctree-l3"><a class="reference internal" href="http.html">10.5. HTTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="parsing_json.html">10.6. Parsing JSON</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../uart.html">11. Serial Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="../io/index.html">12. Pins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advance/index.html">Advance Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../library/micropython-api/index.html">MicroPython Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../library/arduino-api/index.html">Arduino Library</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OhStem Product Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Basic Tutorials</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">10. </span>Network</a> &raquo;</li>
        
      <li><span class="section-number">10.1. </span>Network Basic</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/username/reponame/blob/mastertutorials/basics/network/network_basics.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="network-basic">
<h1><span class="section-number">10.1. </span>Network Basic<a class="headerlink" href="#network-basic" title="Permalink to this headline">¶</a></h1>
<p id="network-base">MicroPython :mod: The <cite>network</cite>  module is used to configure WiFi connection。 There are two WiFi interfaces, STA mode is workstation mode (ESP32 is connected to the router)，
AP mode provides access services (other devices connected to ESP32). For more information about MicroPython’s network connection method, please refer to <code class="xref py py-mod docutils literal notranslate"><span class="pre">network</span></code> module.</p>
<div class="section" id="sta-mode">
<h2><span class="section-number">10.1.1. </span>STA mode<a class="headerlink" href="#sta-mode" title="Permalink to this headline">¶</a></h2>
<p>The mPython Board is packaged based on the network module <span class="xref std std-ref">mpython.wifi()</span> Simplified wifi connection design:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpython</span> <span class="kn">import</span> <span class="o">*</span>       <span class="c1">#import the mpython module</span>

<span class="n">mywifi</span><span class="o">=</span><span class="n">wifi</span><span class="p">()</span>     <span class="c1">#Instantiate wifi class</span>
<span class="n">mywifi</span><span class="o">.</span><span class="n">connectWiFi</span><span class="p">(</span><span class="s2">&quot;ssid&quot;</span><span class="p">,</span><span class="s2">&quot;password&quot;</span><span class="p">)</span>  <span class="c1"># WiFi connection，set the SSID and Password</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>After instantiate the wifi(), Will create the <code class="docutils literal notranslate"><span class="pre">sta</span></code> and <code class="docutils literal notranslate"><span class="pre">ap</span></code> objects. <code class="docutils literal notranslate"><span class="pre">sta</span></code> object is in workstation mode, connected to the network via a router. <code class="docutils literal notranslate"><span class="pre">ap</span></code> is AP mode, provides wifi access.</p>
</div>
<p>After successful connection, the REPL serial port is printed as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Connecting</span> <span class="n">to</span> <span class="n">network</span><span class="o">...</span>
<span class="n">Connecting</span> <span class="n">to</span> <span class="n">network</span><span class="o">...</span>
<span class="n">WiFi</span> <span class="n">Connection</span> <span class="n">Successful</span><span class="p">,</span><span class="n">Network</span> <span class="n">Config</span><span class="p">:(</span><span class="s1">&#39;192.168.0.2&#39;</span><span class="p">,</span> <span class="s1">&#39;255.255.255.0&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.0.1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Disconnect the WiFi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mywifi</span><span class="o">.</span><span class="n">disconnectWiFi</span><span class="p">()</span>
</pre></div>
</div>
<p>Check if the wifi connection has been established:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mywifi</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">isconnected</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the connection is established, return  <code class="docutils literal notranslate"><span class="pre">True</span></code> , otherwise <code class="docutils literal notranslate"><span class="pre">False</span></code> .</p>
</div>
<p>You can check the network settings in the following ways:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mywifi</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">ifconfig</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Return value 4-tuple: (IP address, netmask, gateway, DNS)</p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">ifconfig()</span></code> with parameters, configure static IP. E.G.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mywifi</span><span class="o">.</span><span class="n">sta</span><span class="o">.</span><span class="n">ifconfig</span><span class="p">((</span><span class="s1">&#39;192.168.0.4&#39;</span><span class="p">,</span> <span class="s1">&#39;255.255.255.0&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.0.1&#39;</span><span class="p">,</span> <span class="s1">&#39;192.168.0.1&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="section" id="ap-mode">
<h2><span class="section-number">10.1.2. </span>AP mode<a class="headerlink" href="#ap-mode" title="Permalink to this headline">¶</a></h2>
<p>In addition to the STA mode to connect to the router wifi, the control panel can also use the AP mode to provide wifi access services.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mpython</span> <span class="kn">import</span> <span class="n">wifi</span>                    <span class="c1"># import the WiFi class mpython module</span>

<span class="n">mywifi</span><span class="o">=</span><span class="n">wifi</span><span class="p">()</span>                               <span class="c1"># instantiate wifi</span>
<span class="n">mywifi</span><span class="o">.</span><span class="n">enable_APWiFi</span><span class="p">(</span><span class="n">essid</span> <span class="o">=</span> <span class="s2">&quot;mpython-wifi&quot;</span><span class="p">,</span> <span class="n">password</span> <span class="o">=</span> <span class="s2">&quot;mpython123456&quot;</span><span class="p">)</span>    <span class="c1"># Configure and open AP mode</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">wifi.enable_APWiFi(essid,password)</span></code> used to configure and open the AP mode function, <code class="docutils literal notranslate"><span class="pre">essid</span></code> parameter is WiFi name, <code class="docutils literal notranslate"><span class="pre">password</span></code> parameter is wifi password setting. After the AP mode is turned on, other control boards or network devices can connect to the network for network communication.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>AP mode is not a hotspot function similar to mobile phones, the device can connect to the Internet through the hotspot.This point needs attention.</p>
</div>
<hr class="docutils" />
<p>Once WiFi is set up, then use network sockets to access the network.
A network socket represents an endpoint on a network device, and when two network sockets are connected together, communication can continue.
The Internet protocol is built on network sockets, such as email (SMTP), Web (HTTP), telnet, ssh, etc.
Assign a specific port to each of these protocols, it is just an integer. Given an IP address and port number, you can connect to a remote device and start communicating with it.</p>
<p>The next part of this tutorial will discuss how to use network sockets to perform some common and useful network tasks.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tcpip.html" class="btn btn-neutral float-right" title="10.2. Introduction to TCP/IP" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="10. Network" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, OHSTEM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>