<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>22. Bài 18: Điều khiển và giám sát robot qua IoT &mdash; OhStem Education Wiki 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="AIoT Kit" href="../aiot.html" />
    <link rel="prev" title="21. Bài 17: Lập trình AI - Điều khiển bằng cử chỉ" href="bai-17.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html">Đi tới cửa hàng</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../rover.html"><strong>Rover - Kit robot lập trình</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gioi-thieu-rover.html">1. Giới thiệu về robot Rover</a></li>
<li class="toctree-l2"><a class="reference internal" href="lap-rap.html">2. Hướng dẫn lắp ráp</a></li>
<li class="toctree-l2"><a class="reference internal" href="cai-dat-thu-vien.html">3. Cài đặt thư viện</a></li>
<li class="toctree-l2"><a class="reference internal" href="che-do-mac-dinh.html">4. Các chế độ mặc định</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-1.html">5. Bài 1: Cùng di chuyển nào</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-2.html">6. Bài 2: Chú ý từng bước đi</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-3.html">7. Bài 3: Thắp sáng</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-4.html">8. Bài 4: Trở thành cảnh sát</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-5.html">9. Bài 5: Đôi mắt tinh tường</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-6.html">10. Bài 6: Vượt chướng ngại vật</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-7.html">11. Bài 7: Bám sát mục tiêu</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-8.html">12. Bài 8: Vết tích để lại</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-9.html">13. Bài 9: Lần theo dấu vết</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-10.html">14. Bài 10: Né tránh nguy hiểm</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-11.html">15. Bài 11: Hoàn trả vật phẩm</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-12.html">16. Bài 12: Hạ gục tội phạm</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-13.html">17. Bài 13: Hỗ trợ từ xa</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-14.html">18. Bài 14: Chỉ huy từ xa</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-15.html">19. Bài 15: Giao tiếp cùng đồng đội</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-16.html">20. Bài 16: Lập trình AI - Điều khiển bằng giọng nói</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-17.html">21. Bài 17: Lập trình AI - Điều khiển bằng cử chỉ</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">22. Bài 18: Điều khiển và giám sát robot qua IoT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#muc-tieu">Mục tiêu:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gioi-thieu-ve-cong-nghe-iot-wifi-va-mqtt">Giới thiệu về công nghệ IoT, WiFi và MQTT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gioi-thieu-khoi-lenh">Giới thiệu khối lệnh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tao-bang-dieu-khien-iot-dashboard">Tạo bảng điều khiển IoT (Dashboard)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dieu-khien-doi-mau-rover-tu-internet">Điều khiển đổi màu Rover từ Internet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dinh-ky-cap-nhap-thong-tin-len-server-iot">Định kỳ cập nhập thông tin lên Server IoT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dieu-khien-robot-qua-internet">Điều khiển robot qua Internet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dieu-khien-di-chuyen-qua-internet">Điều khiển di chuyển qua Internet</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chuong-trinh-mau">Chương trình mẫu</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aiot.html"><strong>AIoT Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/micropython/index.html">Hướng dẫn lập trình MicroPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/arduino/index.html">Hướng dẫn lập trình Arduino</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/mo-dau.html">1. Giới thiệu GamKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/hdsd.html">2. Hướng dẫn sử dụng Makecode Arcade</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/nap-code.html">3. Nạp code cho GameKit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/nhan-vat.html">4. Đưa nhân vật vào trò chơi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/vi-tri.html">5. Thiết lập vị trí của nhân vật</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/dieu-khien.html">6. Điều khiển hoạt động nhân vật</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/bat-nay.html">7. Bật nảy khi nhân vật gặp tường</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/hieu-ung.html">8. Tạo hiệu ứng tuyết rơi</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/ky-nang.html">9. Tạo kỹ năng cho nhân vật</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/xe-chay.html">10. Tạo hiệu ứng xe chạy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/nut-nhan.html">11. Thao tác với nút nhấn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/chu-chay.html">12. Tạo hiệu ứng chữ chạy trên màn hình</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/an-banh.html">13. Game: Trò chơi ăn bánh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/bong-hoa.html">14. Game: Bông hoa hạnh phúc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/qua-chanh.html">15. Game: Quả chanh mọng nước</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/may-bay.html">16. Game: Bắn máy bay</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/me-cung.html">17. Game: Phá giải mê cung</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/bong-ro.html">18. Game: Bóng rổ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/nhay-thung.html">19. Game: Nhảy thùng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/mo-rong.html">20. Tiện ích mở rộng</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/cam-bien.html"><strong>Cảm biến</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Education Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../rover.html"><strong>Rover - Kit robot lập trình</strong></a> &raquo;</li>
      <li>22. Bài 18: Điều khiển và giám sát robot qua IoT</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/masteryolobit_v2/rover/bai-18.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bai-18-dieu-khien-va-giam-sat-robot-qua-iot">
<h1>22. Bài 18: Điều khiển và giám sát robot qua IoT<a class="headerlink" href="#bai-18-dieu-khien-va-giam-sat-robot-qua-iot" title="Permalink to this heading"></a></h1>
<section id="muc-tieu">
<h2>Mục tiêu:<a class="headerlink" href="#muc-tieu" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ol class="arabic">
<li><p>Làm quen với khái niệm Internet vạn vật (IoT), WiFi và MQTT</p></li>
<li><p>Thực hành lập trình có thể điều khiển và giám sát các hoạt động và trạng thái của robot qua Internet</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.1.png"><img alt="../../_images/bai_18.1.png" class="align-center" src="../../_images/bai_18.1.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="gioi-thieu-ve-cong-nghe-iot-wifi-va-mqtt">
<h2>Giới thiệu về công nghệ IoT, WiFi và MQTT<a class="headerlink" href="#gioi-thieu-ve-cong-nghe-iot-wifi-va-mqtt" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p><strong>Công nghệ IoT:</strong> IoT (Internet vạn vật) là mạng kết nối hàng tỷ thiết bị trên khắp thế giới qua Internet</p>
<blockquote>
<div><ul class="simple">
<li><p>Xây dựng thành phố thông minh:</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.2.png"><img alt="../../_images/bai_18.2.png" class="align-center" src="../../_images/bai_18.2.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Internet công nghiệp:</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.3.png"><img alt="../../_images/bai_18.3.png" class="align-center" src="../../_images/bai_18.3.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Hỗ trợ nông nghiệp và nhiều ứng dụng khác</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.3.1.png"><img alt="../../_images/bai_18.3.1.png" class="align-center" src="../../_images/bai_18.3.1.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Kết nối WiFi trong IoT:</strong> Có vai trò cực kỳ quan trọng trong IoT, là công nghệ chính để truyền dữ liệu trong hệ thống IoT</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.5.png"><img alt="../../_images/bai_18.5.png" class="align-center" src="../../_images/bai_18.5.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Giao thức MQTT:</strong> Là giao thức truyền thông tin nhẹ và nhanh giữa các thiết bị, phù hợp cho các thiết bị IoT</p>
<blockquote>
<div><ul class="simple">
<li><p>Gồm 2 phần chính: Broker (Server) và các Clients (thiết bị hay máy tính)</p></li>
<li><p>Client có thể publish các message lên một topic cụ thể hoặc subscribe một topic nào đó để nhận message từ topic này</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.6.png"><img alt="../../_images/bai_18.6.png" class="align-center" src="../../_images/bai_18.6.png" style="width: 900px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="gioi-thieu-khoi-lenh">
<h2>Giới thiệu khối lệnh<a class="headerlink" href="#gioi-thieu-khoi-lenh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Tải thư viện lập trình MQTT trên OhStem App:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Trong danh mục khối lệnh, chọn vào khối <strong>MỞ RỘNG</strong> để mở các thư viện mở rộng, như minh họa ở hình dưới:</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.7.png"><img alt="../../_images/bai_18.7.png" class="align-center" src="../../_images/bai_18.7.png" style="width: 600px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Nhập từ khóa MQTT vào ô tìm kiếm, sau đó nhấn Enter. Kết quả của việc tìm kiếm sẽ xuất hiện như hình:</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.8.png"><img alt="../../_images/bai_18.8.png" class="align-center" src="../../_images/bai_18.8.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Nhấn vào MQTT để thêm thư viện. Khi thông báo sau đây xuất hiện, bạn chọn OK.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.9.png"><img alt="../../_images/bai_18.9.png" class="align-center" src="../../_images/bai_18.9.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Phần mềm sẽ yêu cầu bạn kết nối với mạch Yolo:Bit, tuy nhiên, bạn có thể bỏ qua bước này. Sau đó, chúng ta sẽ có một nhóm khối lệnh mới như hình:</p>
<a class="reference internal image-reference" href="../../_images/bai_18.10.png"><img alt="../../_images/bai_18.10.png" class="align-center" src="../../_images/bai_18.10.png" style="width: 600px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Các khối lệnh trong MQTT</strong>:</p>
<blockquote>
<div><ul class="simple">
<li><p>Khối lệnh kết nối vào mạng WiFi (bạn cần nhập tên và mật khẩu WiFi)</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.11.png"><img alt="../../_images/bai_18.11.png" class="align-center" src="../../_images/bai_18.11.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Khối lệnh kết nối đến chương trình điều khiển với username và key đã đặt ở bảng giám sát</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.12.png"><img alt="../../_images/bai_18.12.png" class="align-center" src="../../_images/bai_18.12.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Khối lệnh đăng ký nhận thông tin gửi vào chủ đề (thường là nhận lệnh từ bảng điều khiển Dashboard)</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_18.13.png"><img alt="../../_images/bai_18.13.png" class="align-center" src="../../_images/bai_18.13.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
<section id="tao-bang-dieu-khien-iot-dashboard">
<h2>Tạo bảng điều khiển IoT (Dashboard)<a class="headerlink" href="#tao-bang-dieu-khien-iot-dashboard" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ol class="arabic">
<li><p>Tại giao diện chính của OhStem App, chọn <strong>Bảng điều khiển IoT</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.14.png"><img alt="../../_images/bai_18.14.png" class="align-center" src="../../_images/bai_18.14.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Chọn <strong>Tạo mới</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.15.png"><img alt="../../_images/bai_18.15.png" class="align-center" src="../../_images/bai_18.15.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Kéo thả và sắp xếp các công cụ điều khiển (widget) theo ý muốn</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.16.png"><img alt="../../_images/bai_18.16.png" class="align-center" src="../../_images/bai_18.16.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>Giao diện cấu hình bảng điều khiển IoT</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.17.png"><img alt="../../_images/bai_18.17.png" class="align-center" src="../../_images/bai_18.17.png" style="width: 900px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="dieu-khien-doi-mau-rover-tu-internet">
<h2>Điều khiển đổi màu Rover từ Internet<a class="headerlink" href="#dieu-khien-doi-mau-rover-tu-internet" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p><strong>Yêu cầu:</strong> Cấu hình Color Picker để bật tắt đèn LED trên Rover</p>
<p><strong>Cấu hình bảng điều khiển IoT</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Trong giao diện bảng điều khiển IoT, kéo thả Color Picker ra ngoài</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.18.png"><img alt="../../_images/bai_18.18.png" class="align-center" src="../../_images/bai_18.18.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Nhấn vào Color Picker và cấu hình kênh là V1.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.19.png"><img alt="../../_images/bai_18.19.png" class="align-center" src="../../_images/bai_18.19.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Nhấn nút Play để chuyển về chế độ điều khiển</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.20.png"><img alt="../../_images/bai_18.20.png" class="align-center" src="../../_images/bai_18.20.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Lập trình và nạp vào robot Rover:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kết nối vào mạng WiFi. Đây là bước đầu mà chúng ta cần làm để thiết bị có thể kết nối với Internet. Cũng giống như máy tính, việc kết nối với mạng WiFi bất kỳ chỉ cần được thực hiện một lần. Do đó, chúng ta sẽ lập trình tính năng này trong phần <strong>bắt đầu</strong> của chương trình.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.21.png"><img alt="../../_images/bai_18.21.png" class="align-center" src="../../_images/bai_18.21.png" style="width: 800px;" /></a>
<p><strong>Lưu ý:</strong> Trong câu lệnh này, bạn cần cung cấp đúng 2 thông tin là tên và mật khẩu của WiFi cho Yolo:Bit.</p>
<ol class="arabic" start="2">
<li><p>Sau khi kết nối với mạng WiFi, chúng ta sẽ lập trình để Yolo:Bit kết nối với server OhStem mà chúng ta đã tạo trước đó, thông qua 2 thông tin là Username và key sẽ bỏ trống.</p>
<blockquote>
<div><ul class="simple">
<li><p>Với Username lấy trong bảng điều khiển IoT</p></li>
</ul>
</div></blockquote>
</li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.22.png"><img alt="../../_images/bai_18.22.png" class="align-center" src="../../_images/bai_18.22.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Cuối cùng cần đăng ký nhận thông tin gửi vào chủ đề - topic đã cấu hình trước đó. Ở đây cấu hình đã chọn cho Color Picker trước đó là V1.</p></li>
</ol>
<p><strong>Lưu ý:</strong> Cần ghi đúng chính xác tên của chủ đề.</p>
<a class="reference internal image-reference" href="../../_images/bai_18.23.png"><img alt="../../_images/bai_18.23.png" class="align-center" src="../../_images/bai_18.23.png" style="width: 800px;" /></a>
<p>Mỗi khi nút nhấn trên Dashboard được nhấn, dữ liệu sẽ được tự động lưu lại trong biến <strong>thông tin</strong>. Phần hướng dẫn này sẽ được trình bày ở các phần sau.</p>
<ol class="arabic simple" start="4">
<li><p>Liên kết định kỳ đến Server.</p></li>
</ol>
<p>Sau các bước cấu hình ở trên, chúng ta cần phải tạo một liên kết định kì với Server. Việc này được thực hiện lặp đi lặp lại liên tục, nên chúng ta cần phải hiện thực nó trong khối <strong>lặp lại mãi</strong>, như sau:</p>
<a class="reference internal image-reference" href="../../_images/bai_18.24.png"><img alt="../../_images/bai_18.24.png" class="align-center" src="../../_images/bai_18.24.png" style="width: 800px;" /></a>
<p>Chu kì kiểm tra kết nối với Server mà chúng tôi đề xuất ở đây là 1 giây, tức là 1000ms (sử dụng câu lệnh tạm dừng trong mục CƠ BẢN). Thời gian dừng càng lớn thì việc nhận tín hiệu điều khiển khi nhấn nút sẽ chậm. Tuy nhiên, nếu thời gian dừng nhỏ thì chúng sẽ làm tốn tài nguyên của mạng Internet (do mạch Yolo:Bit phải thường xuyên truy cập và gửi dữ liệu lên Server Adafruit IO).</p>
<p>Trong các ứng dụng hiện tại, chúng ta nên sử dụng độ trễ 1 giây.</p>
<ol class="arabic simple" start="5">
<li><p>Xử ký dữ liệu nhận được từ Server OhStem. Để xử lý dữ liệu nhận được (lưu trong biến thông tin), chúng ta cần phải lập trình trong phần <strong>bắt đầu</strong>.</p></li>
</ol>
<p>Chương trình hoàn chỉnh như sau:</p>
<a class="reference internal image-reference" href="../../_images/bai_18.25.png"><img alt="../../_images/bai_18.25.png" class="align-center" src="../../_images/bai_18.25.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="dinh-ky-cap-nhap-thong-tin-len-server-iot">
<h2>Định kỳ cập nhập thông tin lên Server IoT<a class="headerlink" href="#dinh-ky-cap-nhap-thong-tin-len-server-iot" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p><strong>Yêu cầu:</strong> Định kỳ cập nhật thông tin nhiệt độ, ánh sáng từ Rover lên Server IoT (bảng điều khiển)</p>
<p><strong>Cấu hình bảng điều khiển IoT</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kéo Widget thông tin ra ngoài</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.26.png"><img alt="../../_images/bai_18.26.png" class="align-center" src="../../_images/bai_18.26.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Đặt tên, cấu hình kênh V2 và chọn cách hiển thị</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.27.png"><img alt="../../_images/bai_18.27.png" class="align-center" src="../../_images/bai_18.27.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Thực hiện tương tự với ánh sáng (V3)</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.28.png"><img alt="../../_images/bai_18.28.png" class="align-center" src="../../_images/bai_18.28.png" style="width: 500px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Thư viện sự kiện</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Chọn Mở rộng trong giao diện lập trình thiết bị.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.29.png"><img alt="../../_images/bai_18.29.png" class="align-center" src="../../_images/bai_18.29.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Tải thư viện <strong>SỰ KIỆN</strong></p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.30.png"><img alt="../../_images/bai_18.30.png" class="align-center" src="../../_images/bai_18.30.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Tải hoàn tất:</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.31.png"><img alt="../../_images/bai_18.31.png" class="align-center" src="../../_images/bai_18.31.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Lập trình cho Rover như sau:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Viết chương trình sau mỗi 2 giây thông tin <strong>nhiệt độ</strong> và <strong>mức độ sáng</strong> sẽ được cập nhật lên bảng điều khiển. Chương trình như sau:</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.32.png"><img alt="../../_images/bai_18.32.png" class="align-center" src="../../_images/bai_18.32.png" style="width: 700px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Chương trình hoàn chỉnh để gửi thông tin lên bảng điều khiển.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.33.png"><img alt="../../_images/bai_18.33.png" class="align-center" src="../../_images/bai_18.33.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="dieu-khien-robot-qua-internet">
<h2>Điều khiển robot qua Internet<a class="headerlink" href="#dieu-khien-robot-qua-internet" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p><strong>Yêu cầu:</strong> Điều khiển bật / tắt đèn pha 2 bên của robot Rover thông qua bảng điều khiển IoT</p>
<p><strong>Cấu hình bảng điều khiển IoT</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kéo Widget thông tin ra ngoài</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.34.png"><img alt="../../_images/bai_18.34.png" class="align-center" src="../../_images/bai_18.34.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Đặt tên, cấu hình kênh V4.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.35.png"><img alt="../../_images/bai_18.35.png" class="align-center" src="../../_images/bai_18.35.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Thực hiện tương tự cho đèn phải (V5)</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.36.png"><img alt="../../_images/bai_18.36.png" class="align-center" src="../../_images/bai_18.36.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Lập trình cho Rover như sau:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Thêm 2 khối lệnh để đăng ký nhận thông tin từ chủ đề V4 (cho đèn LED bên trái) và V5 (cho đèn LED bên phải)</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.37.png"><img alt="../../_images/bai_18.37.png" class="align-center" src="../../_images/bai_18.37.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>So sánh thông tin nhận được với giá trị kiểu chuỗi “1” và “0” bằng khối lệnh trong mục <strong>Chữ viết</strong></p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.42.1.png"><img alt="../../_images/bai_18.42.1.png" class="align-center" src="../../_images/bai_18.42.1.png" style="width: 400px;" /></a>
<p>Chương trình hoàn chỉnh như sau:</p>
<a class="reference internal image-reference" href="../../_images/bai_18.38.1.png"><img alt="../../_images/bai_18.38.1.png" class="align-center" src="../../_images/bai_18.38.1.png" style="width: 600px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="dieu-khien-di-chuyen-qua-internet">
<h2>Điều khiển di chuyển qua Internet<a class="headerlink" href="#dieu-khien-di-chuyen-qua-internet" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p><strong>Yêu cầu:</strong>  Điều khiển robot di chuyển theo các hướng thông qua bảng điều khiển IoT</p>
<p><strong>Cấu hình bảng điều khiển IoT</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Kéo Widget Joystick ra ngoài</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.39.png"><img alt="../../_images/bai_18.39.png" class="align-center" src="../../_images/bai_18.39.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Chọn kênh thông tin V6</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.40.png"><img alt="../../_images/bai_18.40.png" class="align-center" src="../../_images/bai_18.40.png" style="width: 500px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Lập trình cho Rover như sau:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Thêm khối lệnh đăng ký nhận thông tin từ chủ đề V6</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.41.png"><img alt="../../_images/bai_18.41.png" class="align-center" src="../../_images/bai_18.41.png" style="width: 700px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>So sánh thông tin nhận được và điều khiển robot tương ứng</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/bai_18.42.png"><img alt="../../_images/bai_18.42.png" class="align-center" src="../../_images/bai_18.42.png" style="width: 600px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="chuong-trinh-mau">
<h2>Chương trình mẫu<a class="headerlink" href="#chuong-trinh-mau" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Điều khiển đèn từ Internet: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2BpjCK8aL6kHlNxUIb5GTlCz0Ph">Tại đây</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.1.1.png"><img alt="../../_images/bai_18.1.1.png" class="align-center" src="../../_images/bai_18.1.1.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Định kỳ cập nhật thông tin lên Server IoT: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2BpkqRmUtvGOpKkcMlfMTGBhREV">Tại đây</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.1.2.png"><img alt="../../_images/bai_18.1.2.png" class="align-center" src="../../_images/bai_18.1.2.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Điều khiển bật / tắt đèn pha 2 bên của robot Rover thông qua bảng điều khiển IoT: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2BpmypGiB30iHu4hcK7C9HN4iMr">Tại đây</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.1.3.png"><img alt="../../_images/bai_18.1.3.png" class="align-center" src="../../_images/bai_18.1.3.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Điều khiển di chuyển qua Internet: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2BpoDOSmODzxELqBDkCjHvLwirU">Tại đây</a></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_18.1.4.png"><img alt="../../_images/bai_18.1.4.png" class="align-center" src="../../_images/bai_18.1.4.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bai-17.html" class="btn btn-neutral float-left" title="21. Bài 17: Lập trình AI - Điều khiển bằng cử chỉ" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../aiot.html" class="btn btn-neutral float-right" title="AIoT Kit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>