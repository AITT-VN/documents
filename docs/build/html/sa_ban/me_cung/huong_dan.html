<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. Hướng dẫn lập trình &mdash; OhStem Education Wiki 1.0.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="1. Giới thiệu" href="gioi_thieu.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html"><strong>Đi tới cửa hàng</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Máy tính lập trình Yolo:Bit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AIoT Kit - Lập trình AI &amp; IoT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aiot/lam_quen.html"><strong>Làm quen với AIoT KIT</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot STEM Rover</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/rover.html"><strong>Rover - Kit robot lập trình</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/servo_pack.html"><strong>Phụ kiện Rover - Servo Pack</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/tay_gap.html"><strong>Tay gắp Robot Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/dau_nang.html"><strong>Đầu nâng Robot Rover</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/gamepad.html"><strong>Tay cầm điều khiển robot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/gap_hai_bac.html"><strong>Tay gắp 2 bậc</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/rover_tank.html"><strong>Kit xe tăng</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot Arm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../robot_arm/robot_arm.html"><strong>Robot Arm - Kit lập trình cánh tay robot</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot lập trình xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/nem-bong.html"><strong>Bộ bắn bóng</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gap-hai-bac.html"><strong>Tay gắp 2 bậc</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/micropython/index.html"><strong>Hướng dẫn lập trình MicroPython</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/arduino/index.html"><strong>Hướng dẫn lập trình Arduino</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/gamekit.html">Hướng dẫn lập trình GameKit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/cai-dat-thu-vien.html"><strong>Hướng dẫn cài đặt thư viện</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/cai-dat-arduino.html"><strong>Hướng dẫn cài đặt Arduino và Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/cam-bien.html"><strong>Cảm biến</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dong-co.html"><strong>Động cơ</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API thư viện</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api-xbot.html">Robot xBot và xController</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sa bàn thi đấu</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../sa_ban_index.html"><strong>Hướng dẫn sử dụng các sa bàn thi đấu</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../thanh_pho_xanh/thanh_pho_xanh.html">1. Sa bàn “Xây dựng thành phố xanh”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robot_co_ban/robot_co_ban.html">2. Sa bàn robot cơ bản</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kham_pha_dong_phong_nha/kham_pha_dong_phong_nha.html">3. Sa bàn “Khám phá động Phong Nha”</a></li>
<li class="toctree-l2"><a class="reference internal" href="../robot_ban_bong/robot_ban_bong.html">4. Sa bàn robot bắn bóng</a></li>
<li class="toctree-l2"><a class="reference internal" href="../doi_khang/doi_khang.html">5. Sa bàn điều khiển robot đối kháng</a></li>
<li class="toctree-l2"><a class="reference internal" href="../giang_day/giang_day.html">6. Bản đồ dò line phiên bản giảng dạy khổ A0</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="me_cung.html">7. Sa bàn mê cung</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gioi_thieu.html">1. Giới thiệu</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">2. Hướng dẫn lập trình</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#thuat-toan">2.1. Thuật toán</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">2.2 Hướng dẫn lập trình</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tai-chuong-trinh-mau">2.3 <strong>Tải chương trình mẫu</strong></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Education Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../sa_ban_index.html"><strong>Hướng dẫn sử dụng các sa bàn thi đấu</strong></a> &raquo;</li>
          <li><a href="me_cung.html">7. Sa bàn mê cung</a> &raquo;</li>
      <li>2. Hướng dẫn lập trình</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/mastersa_ban/me_cung/huong_dan.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="huong-dan-lap-trinh">
<h1>2. Hướng dẫn lập trình<a class="headerlink" href="#huong-dan-lap-trinh" title="Permalink to this heading"></a></h1>
<section id="thuat-toan">
<h2>2.1. Thuật toán<a class="headerlink" href="#thuat-toan" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p>Trong bài viết này, OhStem sẽ hướng dẫn bạn cách lập trình để robot xBot có thể tự động tìm lối ra của mê cung, dựa vào cảm biến khoảng cách và cảm biến dò đường nhé!</p>
<p><em>Kiến thức thêm:</em></p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Tên cảm biến</p></th>
<th class="head"><p>Chức năng</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Cảm biến khoảng cách</p></td>
<td><p>Giúp robot biết được phía trước có chướng ngại vật / tường của mê cung hay không</p></td>
</tr>
<tr class="row-odd"><td><p>Cảm biến dò đường 4 mắt</p></td>
<td><p>Giúp robot theo dõi và di chuyển thẳng theo các vạch màu đen</p></td>
</tr>
</tbody>
</table>
<p>Thuật toán của nhiệm vụ này khá đơn giản, ban đầu robot sẽ đi theo vạch đen. Nếu gặp vật cản trước mặt, robot sẽ xoay tại chỗ liên tục cho đến khi trước mặt hết vật cản thì đi tiếp.</p>
</section>
<section id="id1">
<h2>2.2 Hướng dẫn lập trình<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p>Để lập trình cho robot Rover thi đấu, bạn cần tải thư viện <strong>Robot Rover</strong> và thư viện <strong>Robocon</strong>.</p>
<figure class="align-center" id="id2">
<a class="reference internal image-reference" href="../../_images/thu_vien2.png"><img alt="../../_images/thu_vien2.png" src="../../_images/thu_vien2.png" style="width: 608.0px; height: 300.0px;" /></a>
<figcaption>
<p><span class="caption-text">Xem hướng dẫn tải thư viện <a class="reference external" href="https://docs.ohstem.vn/en/latest/module/cai-dat-thu-vien.html">tại đây</a>.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Đầu tiên, chúng ta cần tạo 1 hàm để robot đi theo đường line đen. Trên cảm biến dò đường của Rover có 4 mắt đọc tín hiệu được đánh dấu từ 1 đến 4 từ trái qua phải, để nhận diện vạch đen và nền trắng.</p>
<p>Chúng ta sẽ chia ra 4 trường hợp:</p>
<blockquote>
<div><ul class="simple">
<li><p>Mắt 1 hoặc cả mắt 1 + 2 thấy vạch đen: Robot rẽ trái</p></li>
<li><p>Mắt 3 hoặc cả mắt 3 + 4 thấy vạch đen: Robot rẽ phải</p></li>
<li><p>Cả 4 mắt không thấy vạch đen: Robot lùi lại</p></li>
<li><p>Các trường hợp khác: Robot đi thẳng</p></li>
</ul>
</div></blockquote>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_1.png"><img alt="../../_images/me_cung_1.png" src="../../_images/me_cung_1.png" style="width: 587.1px; height: 211.85px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Dựa trên 4 trường hợp trên, chúng ta có chương trình đi theo vạch đen như sau:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_2.png"><img alt="../../_images/me_cung_2.png" src="../../_images/me_cung_2.png" style="width: 512.0px; height: 398.0px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Để robot có thể đi theo vạch đen, chúng ta cần phải gọi tên hàm này trong chương trình chính. Trong chương trình chính, khi robot vừa được bật, chúng ta sẽ cho robot hiển thị hình ảnh YES, kèm theo phát nhạc để báo hiệu robot đã sẵn sàng.</p>
<p>Khi nút A trên robot được nhấn, robot mới thực hiện các câu lệnh bên dưới (các câu lệnh để giải mê cung):</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_3.png"><img alt="../../_images/me_cung_3.png" src="../../_images/me_cung_3.png" style="width: 512.0px; height: 294.0px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Theo như thuật toán, khi gặp vạch cản trước mặt, robot sẽ xoay liên tục. Như hình minh họa dưới, khi robot đi tới và gặp vật cản trước mặt, robot sẽ xoay tại chỗ sang bên phải:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_4.png"><img alt="../../_images/me_cung_4.png" src="../../_images/me_cung_4.png" style="width: 512.0px; height: 341.0px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Trong trường hợp phía trước không có vách tường, robot cứ tiếp tục đi theo đường line đen theo chương trình mà chúng ta đã xây dựng trong hàm lúc nãy. Các khối lệnh này được đặt trong lặp lại mãi, để chúng luôn lặp lại liên tục.</p>
<p>Chương trình sẽ như dưới:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_5.png"><img alt="../../_images/me_cung_5.png" src="../../_images/me_cung_5.png" style="width: 680.0px; height: 320.8px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Giải thích:</strong></p>
<blockquote>
<div><p>Khối lệnh trong mục thực hiện bên trên sẽ giúp robot xoay sang phải liên tục cho đến khi gặp vạch đen, lúc đó robot sẽ dừng lại. Thời gian quy định tối đa là 5 giây, nếu 5 giây kết thúc mà robot vẫn chưa thấy vạch đen thì robot vẫn tự động dừng lại. Mốc thời gian này giúp chúng ta tránh được trường hợp robot xoay liên tục không dừng.</p>
</div></blockquote>
<p>Tuy nhiên, trong trường hợp robot đã xoay sang phải, nhưng trước mặt vẫn có vách tường thì sao? Lúc này, chúng ta cần cho <strong>robot xoay sang phải 2 lần</strong>, để quay ngược lại và đi theo hướng duy nhất còn lại:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_6.png"><img alt="../../_images/me_cung_6.png" src="../../_images/me_cung_6.png" style="width: 512.0px; height: 341.0px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Chương trình sẽ như sau:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_7.png"><img alt="../../_images/me_cung_7.png" src="../../_images/me_cung_7.png" style="width: 752.8000000000001px; height: 287.2px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Giải thích:</strong> Khối lệnh “quay động cơ trái …” được sử dụng 2 lần liên tiếp, để đảm bảo robot có thể xoay 2 lần về đúng hướng còn lại:</p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_8.png"><img alt="../../_images/me_cung_8.png" src="../../_images/me_cung_8.png" style="width: 512.0px; height: 341.0px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>Chương trình hoàn chỉnh lúc này sẽ như sau:</strong></p>
<figure class="align-center">
<a class="reference internal image-reference" href="../../_images/me_cung_9.png"><img alt="../../_images/me_cung_9.png" src="../../_images/me_cung_9.png" style="width: 650.3px; height: 386.4px;" /></a>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="tai-chuong-trinh-mau">
<h2>2.3 <strong>Tải chương trình mẫu</strong><a class="headerlink" href="#tai-chuong-trinh-mau" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p>Bạn có thể sử dụng trực tiếp chương trình mẫu về robot giải mê cung mà chúng tôi đã lập trình sẵn cho bạn tại đây.</p>
<ul class="simple">
<li><p><a class="reference download external" download="" href="https://app.ohstem.vn/#!/share/yolobit/2NMgaVDjKynX0DEwbj5H8Sm28qs"><code class="xref download docutils literal notranslate"><span class="pre">Bài</span> <span class="pre">thi</span> <span class="pre">giải</span> <span class="pre">sa</span> <span class="pre">bàn</span> <span class="pre">mê</span> <span class="pre">cung</span></code></a></p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="gioi_thieu.html" class="btn btn-neutral float-left" title="1. Giới thiệu" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>