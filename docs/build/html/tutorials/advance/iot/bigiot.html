

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>8.2.3. BIGIOT &mdash; OhStem Product Documents 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="MicroPython Library" href="../../../library/micropython-api/index.html" />
    <link rel="prev" title="8.2.2. Yeelight" href="yeelight.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../board/index.html">xController Board</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Micropython Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../basics/index.html">Basic Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Advance Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../random.html">1. Random Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem.html">2. Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timer.html">3. Timer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radio.html">4. Radio Broadcast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../i2c.html">5. I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thread.html">6. Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bme280.html">7. BME280</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">8. Internet of Things</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#iot-basics">8.1. IoT basics</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#iot-tutorial">8.2. IoT tutorial</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mqtt.html">8.2.1. MQTT</a></li>
<li class="toctree-l4"><a class="reference internal" href="yeelight.html">8.2.2. Yeelight</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">8.2.3. BIGIOT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Arduino Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../basics/index.html">Basic Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Advance Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../random.html">1. Random Number</a></li>
<li class="toctree-l2"><a class="reference internal" href="../filesystem.html">2. Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../timer.html">3. Timer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../radio.html">4. Radio Broadcast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../i2c.html">5. I2C</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thread.html">6. Thread</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bme280.html">7. BME280</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">8. Internet of Things</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#iot-basics">8.1. IoT basics</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#iot-tutorial">8.2. IoT tutorial</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="mqtt.html">8.2.1. MQTT</a></li>
<li class="toctree-l4"><a class="reference internal" href="yeelight.html">8.2.2. Yeelight</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">8.2.3. BIGIOT</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xController Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../library/micropython-api/index.html">MicroPython Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../library/arduino-api/index.html">Arduino Library</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">OhStem Product Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">Advance Tutorials</a> &raquo;</li>
        
          <li><a href="index.html"><span class="section-number">8. </span>Internet of Things</a> &raquo;</li>
        
      <li><span class="section-number">8.2.3. </span>BIGIOT</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/username/reponame/blob/mastertutorials/advance/iot/bigiot.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="bigiot">
<h1><span class="section-number">8.2.3. </span>BIGIOT<a class="headerlink" href="#bigiot" title="Permalink to this headline">¶</a></h1>
<p>BIGIOT is an IoT cloud platform that makes it easier for you to communicate with smart devices. You can chat with your smart device, send instructions, and view real-time data in the form of conversations and remote controls through the Internet,
set alarm conditions according to actual needs, and notify users through APP, email, SMS, Weibo, WeChat, etc.</p>
<div class="figure align-center" id="id1">
<a class="reference internal image-reference" href="https://www.bigiot.net/Public/upload/UEditor/image/20181024/1540363897144665.jpg"><img alt="https://www.bigiot.net/Public/upload/UEditor/image/20181024/1540363897144665.jpg" src="https://www.bigiot.net/Public/upload/UEditor/image/20181024/1540363897144665.jpg" style="width: 550px;" /></a>
<p class="caption"><span class="caption-text">BIGIOT architecture</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<ul class="simple">
<li><p>BIGIOT platform communication protocol：<a class="reference external" href="https://www.bigiot.net/help/1.html">https://www.bigiot.net/help/1.html</a></p></li>
</ul>
<div class="section" id="connect-mpython-board-to-bigiot">
<h2><span class="section-number">8.2.3.1. </span>Connect mPython Board to BIGIOT<a class="headerlink" href="#connect-mpython-board-to-bigiot" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-ready">
<h3><span class="section-number">8.2.3.1.1. </span>Get ready<a class="headerlink" href="#get-ready" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>First, needs to register an account at <a class="reference external" href="https://www.bigiot.net">https://www.bigiot.net</a> and to add a smart device.</p></li>
<li><p>In the program, you need to use bigiot’s mPython library, get it at  <a class="reference external" href="https://github.com/labplus-cn/awesome-mpython/tree/master/library">https://github.com/labplus-cn/awesome-mpython/tree/master/library</a> . bigiot.py upload to the file system.</p></li>
</ul>
</div>
<div class="section" id="communication-between-devices">
<h3><span class="section-number">8.2.3.1.2. </span>Communication between devices<a class="headerlink" href="#communication-between-devices" title="Permalink to this headline">¶</a></h3>
<p>Prior connection to BIGIOT platform, ensure the mPython Board is connected to Internet. While instantiating <code class="docutils literal notranslate"><span class="pre">Device(id,api_key)</span></code> , use the smart device information of BIGIOT, <code class="docutils literal notranslate"><span class="pre">ID</span></code> and  <code class="docutils literal notranslate"><span class="pre">API</span> <span class="pre">KEY</span></code> .
Set the callback function for say communication  <code class="docutils literal notranslate"><span class="pre">say_callback(f)</span></code> . f(msg,id,name)callback function,  <code class="docutils literal notranslate"><span class="pre">msg</span></code> parameter is the received message,  <code class="docutils literal notranslate"><span class="pre">id</span></code> parameter is the sending device ID,  <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter is the device name.
<code class="docutils literal notranslate"><span class="pre">check_in()</span></code> is the online function of the device, you can see the connection status of the device on BIGIOT.
In the above example, set the callback function and print out the data received by say communication.</p>
</div>
<div class="section" id="the-client-sends-a-message-to-the-dashboard">
<h3><span class="section-number">8.2.3.1.3. </span>The client sends a message to the dashboard<a class="headerlink" href="#the-client-sends-a-message-to-the-dashboard" title="Permalink to this headline">¶</a></h3>
<p>BIGIOT supports communication between multiple clients and devices, such as browsers, WeChat mini-program public accounts, and APP (Android).</p>
<div class="figure align-center" id="id2">
<img alt="../images/tutorials/IoT/bigiot_1.gif" src="../images/tutorials/IoT/bigiot_1.gif" />
<p class="caption"><span class="caption-text">Browser</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="../images/tutorials/IoT/bigiot_2.gif"><img alt="../images/tutorials/IoT/bigiot_2.gif" src="../images/tutorials/IoT/bigiot_2.gif" style="width: 500px;" /></a>
<p class="caption"><span class="caption-text">WeChat Mini Program</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="the-mpython-board-sends-to-the-device-or-client">
<h3><span class="section-number">8.2.3.1.4. </span>The mPython Board sends to the device or client<a class="headerlink" href="#the-mpython-board-sends-to-the-device-or-client" title="Permalink to this headline">¶</a></h3>
<div class="section" id="device">
<h4><span class="section-number">8.2.3.1.4.1. </span>Device<a class="headerlink" href="#device" title="Permalink to this headline">¶</a></h4>
<p>You can add multiple smart devices on the Shell IoT platform at the same time. As long as the smart device is online and knows the <code class="docutils literal notranslate"><span class="pre">ID</span></code> of the device, you can send messages to the smart device.</p>
<p>To ID: 7947 device sends a message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">device_id</span> <span class="o">=</span> <span class="mi">7947</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;hello I am mPython&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="client">
<h4><span class="section-number">8.2.3.1.4.2. </span>Client<a class="headerlink" href="#client" title="Permalink to this headline">¶</a></h4>
<p>Send messages to clients such as web or WeChat, you can view your user ID on the platform “Personal Information”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">user_id</span> <span class="o">=</span> <span class="mi">5600</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;hello I am mPython&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="group">
<h4><span class="section-number">8.2.3.1.4.3. </span>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h4>
<p>You can also set up multiple smart devices on the platform to form a group and send messages to the group, so that all members of the group can receive messages, similar to the IP multicast function:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">device</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="n">group_id</span> <span class="o">=</span> <span class="mi">145</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;hello I am mPython&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">say(user_id,</span> <span class="pre">group_id,</span> <span class="pre">device_id,</span> <span class="pre">msg)</span></code> this function is used for device or client conversation. <code class="docutils literal notranslate"><span class="pre">user_id</span></code> 、<code class="docutils literal notranslate"><span class="pre">group_id</span></code> 、<code class="docutils literal notranslate"><span class="pre">device_id</span></code> parameters are user ID, group ID, device ID. Use parameters according to the dialogue object.
<code class="docutils literal notranslate"><span class="pre">msg</span></code> is a conversation message, the type is a string.</p>
</div>
</div>
<div class="section" id="send-data-to-the-interface">
<h3><span class="section-number">8.2.3.1.5. </span>Send data to the interface<a class="headerlink" href="#send-data-to-the-interface" title="Permalink to this headline">¶</a></h3>
<p>To the interface: 9564, send the light data of the mPython Board:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">val</span><span class="o">=</span><span class="n">light</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">device</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">9564</span><span class="p">,</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>BIGIOT provides an interface for collecting real-time sensor data and drawing charts. update(id, data) is the function of uploading data.  <code class="docutils literal notranslate"><span class="pre">id</span></code> is the interface ID, and the <code class="docutils literal notranslate"><span class="pre">data</span></code> parameter is the uploaded sensor data. Note that this type is a string. If it is int, it needs to be converted to str.
Also, data transmission should not be too fast, at least 1 second interval.</p>
</div>
</div>
<div class="section" id="voice-assistant">
<h2><span class="section-number">8.2.3.2. </span>Voice Assistant<a class="headerlink" href="#voice-assistant" title="Permalink to this headline">¶</a></h2>
<p>BIGIOT can also connect with Tmall Genie and Baidu Voice Assistant, and Shell Internet of Things devices as clients. Receive voice commands from the server. Realize the application of voice control for smart home.</p>
<div class="section" id="tmall-genie-control-method-for-bigiot">
<h3><span class="section-number">8.2.3.2.1. </span>Tmall Genie control method for BIGIOT<a class="headerlink" href="#tmall-genie-control-method-for-bigiot" title="Permalink to this headline">¶</a></h3>
<p>Tmall Genie control methodd reference tutorial: <a class="reference external" href="https://www.bigiot.net/talk/359.html">https://www.bigiot.net/talk/359.html</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../../library/micropython-api/index.html" class="btn btn-neutral float-right" title="MicroPython Library" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="yeelight.html" class="btn btn-neutral float-left" title="8.2.2. Yeelight" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, OHSTEM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>