

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Các cảm biến &mdash; OhStem Product Documents 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Chân cắm mở rộng" href="chan-cam-mo-rong.html" />
    <link rel="prev" title="Âm nhạc" href="am-nhac.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="../../index.html">
          

          
            
            <img src="../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">xController</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../board/introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/hardware.html">Phần cứng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/drive.html">Cài đặt Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/app.html">Phần mềm lập trình</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../board/flashburn.html">Cập nhật Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/micropython-api/index.html">MicroPython API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/arduino-api/index.html">Arduino API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/intro.html">Thành phần bộ kit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/micropython/index.html">Hướng dẫn lập trình MicroPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/arduino/index.html">Hướng dẫn lập trình Arduino</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hardware.html">Phần cứng</a></li>
<li class="toctree-l1"><a class="reference internal" href="../drive.html">Cài đặt Driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app.html">Phần mềm lập trình</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flashburn.html">Cập nhật Firmware</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../micropython-exp.html">MicroPython example</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="intro.html">Giới thiệu</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html">Công cụ lập trình</a></li>
<li class="toctree-l2"><a class="reference internal" href="xin-chao-the-gioi.html">Xin chào thế giới</a></li>
<li class="toctree-l2"><a class="reference internal" href="hinh-anh.html">Hình ảnh</a></li>
<li class="toctree-l2"><a class="reference internal" href="nut-nhan.html">Nút nhấn</a></li>
<li class="toctree-l2"><a class="reference internal" href="am-nhac.html">Âm nhạc</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Các cảm biến</a></li>
<li class="toctree-l2"><a class="reference internal" href="chan-cam-mo-rong.html">Chân cắm mở rộng</a></li>
<li class="toctree-l2"><a class="reference internal" href="so-ngau-nhien.html">Số ngẫu nhiên</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../blockapi.html">Yolo:Bit Block API</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Phần mềm Ohstem App</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../app/introduction.html">Giới thiệu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/install.html">Cài đặt</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/frontend.html">Giao diện</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/connect.html">Kết nối</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/runandsave.html">Chạy và lưu project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/createnew.html">Tạo một mục mở rộng mới</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../app/blockapi.html">Block API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Product Documents</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../micropython-exp.html">MicroPython example</a> &raquo;</li>
        
      <li>Các cảm biến</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/username/reponame/blob/masteryolobit/micropython-exp/cac-cam-bien.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cac-cam-bien">
<h1>Các cảm biến<a class="headerlink" href="#cac-cam-bien" title="Permalink to this headline">¶</a></h1>
<p>Yolo:Bit của bạn được tích hợp sẵn nhiều cảm biến với các chức năng khác nhau như cảm biến cử chỉ, cảm biến ánh sáng, cảm biến nhiệt độ. Chúng ta thử tìm hiểu cách làm việc với chúng nào.</p>
<a class="reference internal image-reference" href="../../_images/ls-5-12.png"><img alt="../../_images/ls-5-12.png" class="align-center" src="../../_images/ls-5-12.png" style="width: 600px;" /></a>
<p><strong>Cảm biến cử chỉ</strong></p>
<p>Cảm biến cử chỉ (hay còn gọi là gia tốc kế) giúp đo được sự di chuyển của Yolo:Bit thông qua 3 chiều:</p>
<blockquote>
<div><p>X – nghiêng qua trái và qua phải.</p>
<p>Y – nghiêng về phía trước và phía sau.</p>
<p>Z – di chuyển lên xuống theo trục dọc.</p>
</div></blockquote>
<p>Thư viện MicroPython trên Yolo:Bit có các hàm để đọc giá trị các trục này và trả về giá trị có đơn vị là milli-g. Nếu giá trị trả về là 0 thì tức là Yolo:Bit đang cân bằng ở trục đó và không nghiêng về bên nào.</p>
<p>Ví dụ sau sẽ sử dụng hàm get_x để đo độ nghiêng của Yolo:Bit theo trục X (nghiêng qua trái hay phải).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>from yolobit import *

while True:

    reading = accelerometer.get_x()

    if reading &gt; 10:

        display.scroll(“R”)

    elif reading &lt; -10:

        display.scroll(“L”)

    else:

        display.scroll(“-“)
</pre></div>
</div>
<p>Nếu bạn cầm Yolo:Bit thăng bằng trên tay thì màn hình Led sẽ hiện ra dấu gạch ngang, nếu nghiêng bên trái thì sẽ hiện ra chữ L và nghiêng bên phải sẽ là chữ R.</p>
<p>Trong chương trình trên, ta dùng một vòng lặp vô tận while True để luôn kiểm tra giá trị trục x của cảm biến cử chỉ và các lệnh if, elif và else để hiện ra các chữ tương ứng. Nếu bạn muốn chương trình nhạy hơn thì có thể giảm số 10 xuống nhỏ hơn.</p>
<p>Ngoài ra bạn cũng có thể sử dụng hàm <code class="docutils literal notranslate"><span class="pre">get_y()</span></code> và <code class="docutils literal notranslate"><span class="pre">get_z()</span></code> cho trục Y và Z.</p>
<p><strong>Âm thanh theo hành động</strong></p>
<p>Bạn hãy thử chương trình sau để phát ra âm theo tùy theo chiều xoay của Yolo:Bit.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yolobit</span> <span class="kn">import</span> <span class="o">*</span>

<span class="kn">import</span> <span class="nn">music</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

      <span class="n">music</span><span class="o">.</span><span class="n">pitch</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">accelerometer</span><span class="o">.</span><span class="n">get_y</span><span class="p">())</span><span class="o">*</span><span class="mi">20</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Sau khi chạy chương trình, bạn thử nghiêng Yolo:Bit từ về phía trước và về phía sau để nghe xem âm thanh có thay đổi trong quá trình di chuyển không nhe. Hàm get_x, get_y, get_x trả về một số thập phân (<code class="docutils literal notranslate"><span class="pre">float</span></code>) từ -50 đến 50 nên ta dùng hàm <code class="docutils literal notranslate"><span class="pre">int()</span></code> để đổi về số nguyên theo yêu cầu của hàm <code class="docutils literal notranslate"><span class="pre">music.pitch()</span></code> và ta cho phát ra âm thanh với độ dài là 100 milli giây.</p>
<p>Ngoài ra, trong thư viện còn tạo sẵn các hàm giúp phát hiện ra Yolo:Bit có đang được lắc hay không. Ví dụ ta sẽ cho Yolo:Bit phát ra âm thanh mỗi khi Yolo:Bit bị lắc.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>from yolobit import *

import music

while True:

    if accelerometer.is_gesture(“shake”):

        music.pitch(440, 500)
</pre></div>
</div>
<p>Hàm <code class="docutils literal notranslate"><span class="pre">is_gesture()</span></code> nhận thông tin là tên cử chỉ cần được kiểm tra và trả về True nếu cử chỉ đó đang xảy ra. Các cử chỉ được hỗ trợ là:</p>
<blockquote>
<div><ul class="simple">
<li><p>“shake”: Lắc</p></li>
<li><p>“tapped”: đập tay vào</p></li>
<li><p>“tilt_up”: nghiêng về phía trước</p></li>
<li><p>“tilt_down”: nghiêng về phía sau</p></li>
<li><p>“tilt_left”: nghiêng về trái</p></li>
<li><p>“tilt_right”: nghiêng về phải</p></li>
<li><p>“face_up”: nằm ngửa lên trên</p></li>
<li><p>“face_down”: úp xuống dưới</p></li>
</ul>
</div></blockquote>
<p><strong>Cảm biến ánh sáng</strong></p>
<p>Cảm biến này giúp đo được độ sáng của môi trường xung quanh. Cảm biến này được đặt ở góc trên bên phải và có biểu tượng là hình mặt trời.</p>
<a class="reference internal image-reference" href="../../_images/ls-5-2.png"><img alt="../../_images/ls-5-2.png" class="align-center" src="../../_images/ls-5-2.png" style="width: 600px;" /></a>
<p>Độ sáng từ cảm biến có thể được đọc bằng hàm <code class="docutils literal notranslate"><span class="pre">light_level()</span></code> trong thư viện MicroPython trên Yolo:Bit. Chương trình sau sẽ in ra độ sáng hiện tại lên màn hình Led sau mỗi một giây:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yolobit</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

    <span class="n">display</span><span class="o">.</span><span class="n">scroll</span><span class="p">((</span><span class="n">light_level</span><span class="p">()))</span>

    <span class="n">sleep_ms</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Bạn có thể lấy tay che thử cảm biến để thấy sự thay đổi của giá trị hiện ra.</p>
<p><strong>Cảm biến nhiệt độ</strong></p>
<p>Cảm biến nhiệt độ nằm bên góc trái của Yolo:Bit với biểu tượng là chiếc nhiệt kế. Cảm biến này đo được nhiệt độ và trả về độ C. Tuy nhiên cảm biến này không chính xác cho lắm do có thể bị ảnh hưởng bởi nhiệt độ của vi xử lý và mạch điện có trên Yolo:Bit.</p>
<p>Chương trình sau in ra nhiệt độ của Yolo:Bit sau mỗi 1 giây bằng cách dùng hàm <code class="docutils literal notranslate"><span class="pre">temperature()</span></code> có trong thư viện MicroPython của Yolo:Bit:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">yolobit</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>

    <span class="n">display</span><span class="o">.</span><span class="n">scroll</span><span class="p">((</span><span class="n">temperature</span><span class="p">()))</span>

    <span class="n">sleep_ms</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="chan-cam-mo-rong.html" class="btn btn-neutral float-right" title="Chân cắm mở rộng" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="am-nhac.html" class="btn btn-neutral float-left" title="Âm nhạc" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, OHSTEM.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>