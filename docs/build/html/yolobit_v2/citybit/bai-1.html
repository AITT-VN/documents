<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3. Bài 1: Đèn công cộng thông minh &mdash; OhStem Product Documents 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="4. Bài 2: Bãi đậu xe thông minh" href="bai-2.html" />
    <link rel="prev" title="2. Cài đặt thư viện City:Bit" href="cai-dat-thu-vien.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html">Đi tới cửa hàng</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../rover.html"><strong>Rover - Kit robot lập trình</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../aiot.html"><strong>AIoT Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="gioi-thieu-citybit.html">1. Giới thiệu thành phố thông minh City:Bit</a></li>
<li class="toctree-l2"><a class="reference internal" href="cai-dat-thu-vien.html">2. Cài đặt thư viện City:Bit</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3. Bài 1: Đèn công cộng thông minh</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#muc-tieu">Mục tiêu:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ket-noi">Kết nối</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lap-rap">Lắp ráp</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gioi-thieu-khoi-lenh">Giới thiệu khối lệnh</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viet-chuong-trinh">Viết chương trình</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chuong-trinh-mau">Chương trình mẫu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bai-2.html">4. Bài 2: Bãi đậu xe thông minh</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-3.html">5. Bài 3: Thùng rác thông minh</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-4.html">6. Bài 4: Hệ thống cảnh báo tiếng ồn</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-5.html">7. Bài 5: Hệ thống cảnh báo tốc độ</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-6.html">8. Bài 6: Đèn giao thông</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-7.html">9. Bài 7: Hệ thống theo dõi thời tiết và chất lượng không khí</a></li>
<li class="toctree-l2"><a class="reference internal" href="bai-8.html">10. Bài 8: Hệ thống phát hiện ngập nước</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/huong-dan.html"><strong>Hướng dẫn lập trình GameKit</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/cam-bien.html"><strong>Cảm biến</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tài liệu học STEM</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tai_lieu_stem/tai-lieu-1.html"><strong>Tài liệu 1</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tai_lieu_stem/tai-lieu-2.html"><strong>Tài liệu 2</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Product Documents</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a> &raquo;</li>
      <li>3. Bài 1: Đèn công cộng thông minh</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/masteryolobit_v2/citybit/bai-1.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bai-1-den-cong-cong-thong-minh">
<h1>3. Bài 1: Đèn công cộng thông minh<a class="headerlink" href="#bai-1-den-cong-cong-thong-minh" title="Permalink to this heading"></a></h1>
<section id="muc-tieu">
<h2>Mục tiêu:<a class="headerlink" href="#muc-tieu" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p>Trong bài này, chúng ta sẽ cùng lập trình một chiếc đèn thông minh có thể tự sáng khi có người vào buổi tối. Các đèn này có thể gắn vào các khu vui chơi hoặc công viên tùy thích.</p>
</section>
<section id="ket-noi">
<h2>Kết nối<a class="headerlink" href="#ket-noi" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p>Cảm biến ánh sáng (P0)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.1.1.png"><img alt="../../_images/bai_1.1.1.png" class="align-center" src="../../_images/bai_1.1.1.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Cảm biến chuyển động PIR (P1)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.1.2.png"><img alt="../../_images/bai_1.1.2.png" class="align-center" src="../../_images/bai_1.1.2.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Module LED (P2)</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.1.3.png"><img alt="../../_images/bai_1.1.3.png" class="align-center" src="../../_images/bai_1.1.3.png" style="width: 200px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Kết nối</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.21.png"><img alt="../../_images/bai_1.21.png" class="align-center" src="../../_images/bai_1.21.png" style="width: 800px;" /></a>
</div></blockquote>
</section>
<section id="lap-rap">
<h2>Lắp ráp<a class="headerlink" href="#lap-rap" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<p><strong>Lắp ráp khung cho mạch mở rộng</strong></p>
<p>Đầu tiên, bạn cần lắp ráp một khung phù hợp với mạch mở rộng Yolo:Bit để sử dụng cho từng mô hình.</p>
<p>Thực hiện như sau:</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.31.png"><img alt="../../_images/bai_1.31.png" class="align-center" src="../../_images/bai_1.31.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_1.3.1.png"><img alt="../../_images/bai_1.3.1.png" class="align-center" src="../../_images/bai_1.3.1.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Lắp ráp mô hình</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.41.png"><img alt="../../_images/bai_1.41.png" class="align-center" src="../../_images/bai_1.41.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_1.4.1.png"><img alt="../../_images/bai_1.4.1.png" class="align-center" src="../../_images/bai_1.4.1.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_1.4.2.png"><img alt="../../_images/bai_1.4.2.png" class="align-center" src="../../_images/bai_1.4.2.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/bai_1.4.3.png"><img alt="../../_images/bai_1.4.3.png" class="align-center" src="../../_images/bai_1.4.3.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="gioi-thieu-khoi-lenh">
<h2>Giới thiệu khối lệnh<a class="headerlink" href="#gioi-thieu-khoi-lenh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.61.png"><img alt="../../_images/bai_1.61.png" class="align-center" src="../../_images/bai_1.61.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="viet-chuong-trinh">
<h2>Viết chương trình<a class="headerlink" href="#viet-chuong-trinh" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ol class="arabic">
<li><p>Kéo khối lệnh điều kiện vào phần <strong>lặp lại mãi</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.71.png"><img alt="../../_images/bai_1.71.png" class="align-center" src="../../_images/bai_1.71.png" style="width: 300px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Cho khối lệnh toán tử <strong>VÀ</strong> vào phần nếu</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.81.png"><img alt="../../_images/bai_1.81.png" class="align-center" src="../../_images/bai_1.81.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Tạo điều kiện: nếu trời tối (độ sáng &lt; 30) và phát hiện có người</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.91.png"><img alt="../../_images/bai_1.91.png" class="align-center" src="../../_images/bai_1.91.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Bật đèn ở chân P2 trong 5 giây, sau đó tắt đèn</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.101.png"><img alt="../../_images/bai_1.101.png" class="align-center" src="../../_images/bai_1.101.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ol>
<p><strong>Vấn đề xảy ra:</strong> Thỉnh thoảng đèn vẫn không bật dù đang có người.</p>
<p><strong>Nguyên nhân:</strong> Cảm biến hồng ngoại PIR không hoạt động liên tục nên chúng sẽ không phát hiện người kịp thời. Khi có người, cảm biến sẽ bật và hoạt động trong vòng 2 giây rồi tắt. Đến khi tiếp tục phát hiện có người thì cảm biến PIR mới bật lại nên sẽ có độ trễ nhất định.</p>
<p><strong>Giải pháp:</strong> Sử dụng bộ đếm thời gian để đèn tự tắt nếu trong vòng 10 giây liên tục không có người xuất hiện</p>
<p><strong>Giới thiệu khối lệnh</strong></p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.111.png"><img alt="../../_images/bai_1.111.png" class="align-center" src="../../_images/bai_1.111.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
<p><strong>Sửa chương trình</strong></p>
<ol class="arabic">
<li><p>Nếu trời tối và cảm biến phát hiện có người thì bật đèn LED</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.121.png"><img alt="../../_images/bai_1.121.png" class="align-center" src="../../_images/bai_1.121.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Sau khi bật đèn, reset bộ đếm để đếm lại từ đầu</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.131.png"><img alt="../../_images/bai_1.131.png" class="align-center" src="../../_images/bai_1.131.png" style="width: 800px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
<li><p>Nếu đếm được 10 giây (trong vòng 10 giây liên tiếp không có người xuất hiện) thì tắt đèn LED</p>
<blockquote>
<div><a class="reference internal image-reference" href="../../_images/bai_1.141.png"><img alt="../../_images/bai_1.141.png" class="align-center" src="../../_images/bai_1.141.png" style="width: 1000px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
<section id="chuong-trinh-mau">
<h2>Chương trình mẫu<a class="headerlink" href="#chuong-trinh-mau" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p>Đèn công cộng thông minh: <a class="reference external" href="https://app.ohstem.vn/#!/share/yolobit/2Bq3zhPeIeRzldwwWE52H9gdAfT">Tại đây</a></p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/bai_1.151.png"><img alt="../../_images/bai_1.151.png" class="align-center" src="../../_images/bai_1.151.png" style="width: 200px;" /></a>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="cai-dat-thu-vien.html" class="btn btn-neutral float-left" title="2. Cài đặt thư viện City:Bit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="bai-2.html" class="btn btn-neutral float-right" title="4. Bài 2: Bãi đậu xe thông minh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>