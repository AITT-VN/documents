<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>15. Cảm biến góc xoay &mdash; OhStem Education Wiki 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="16. Cảm biến ánh sáng" href="anh-sang.html" />
    <link rel="prev" title="14. Cảm biến âm thanh" href="am-thanh.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem-white.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html"><strong>Đi tới cửa hàng</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Máy tính lập trình Yolo:Bit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AIoT Kit - Lập trình AI &amp; IoT</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../aiot/lam_quen.html"><strong>Làm quen với AIoT KIT</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot STEM Rover</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/rover.html"><strong>Rover - Kit robot lập trình</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/servo_pack.html"><strong>Phụ kiện Rover - Servo Pack</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/tay_gap.html"><strong>Tay gắp Robot Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../robot_rover/dau_nang.html"><strong>Đầu nâng Robot Rover</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot Arm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../robot_arm/robot_arm.html"><strong>Robot Arm - Kit lập trình cánh tay robot</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Robot lập trình xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/nem-bong.html"><strong>Bộ bắn bóng</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/micropython/index.html"><strong>Hướng dẫn lập trình MicroPython</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/arduino/index.html"><strong>Hướng dẫn lập trình Arduino</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/gamekit.html">Hướng dẫn lập trình GameKit</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../cai-dat-thu-vien.html"><strong>Hướng dẫn cài đặt thư viện</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../cai-dat-arduino.html"><strong>Hướng dẫn cài đặt Arduino và Yolo:Bit</strong></a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../cam-bien.html"><strong>Cảm biến</strong></a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dht20.html">1. Cảm biến nhiệt độ độ ẩm DHT20</a></li>
<li class="toctree-l2"><a class="reference internal" href="dht11.html">2. Cảm biến nhiệt độ độ ẩm DHT11</a></li>
<li class="toctree-l2"><a class="reference internal" href="do-am-dat.html">3. Cảm biến độ ẩm đất</a></li>
<li class="toctree-l2"><a class="reference internal" href="dat-dien-dung.html">4. Cảm biến độ ẩm đất điện dung</a></li>
<li class="toctree-l2"><a class="reference internal" href="vat-can.html">5. Cảm biến vật cản hồng ngoại</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq2.html">6. Cảm biến khí gas MQ2</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq3.html">7. Cảm biến nồng độ cồn MQ3</a></li>
<li class="toctree-l2"><a class="reference internal" href="mq135.html">8. Cảm biến chất lượng không khí MQ135</a></li>
<li class="toctree-l2"><a class="reference internal" href="ir.html">9. Mắt đọc hồng ngoại IR</a></li>
<li class="toctree-l2"><a class="reference internal" href="line-4-mat.html">10. Cảm biến dò đường 4 mắt</a></li>
<li class="toctree-l2"><a class="reference internal" href="line-2-mat.html">11. Cảm biến dò đường 2 mắt</a></li>
<li class="toctree-l2"><a class="reference internal" href="color.html">12. Cảm biến màu sắc</a></li>
<li class="toctree-l2"><a class="reference internal" href="sieu-am.html">13. Cảm biến siêu âm</a></li>
<li class="toctree-l2"><a class="reference internal" href="am-thanh.html">14. Cảm biến âm thanh</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">15. Cảm biến góc xoay</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mua-san-pham"><strong>1. Mua sản phẩm</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#thong-so-ky-thuat"><strong>2. Thông số kỹ thuật</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#ket-noi"><strong>3. Kết nối</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#huong-dan-lap-trinh-voi-ohstem-app"><strong>4. Hướng dẫn lập trình với OhStem App</strong></a></li>
<li class="toctree-l3"><a class="reference internal" href="#huong-dan-lap-trinh-arduino"><strong>5. Hướng dẫn lập trình Arduino</strong></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="anh-sang.html">16. Cảm biến ánh sáng</a></li>
<li class="toctree-l2"><a class="reference internal" href="lua.html">17. Cảm biến lửa</a></li>
<li class="toctree-l2"><a class="reference internal" href="pir.html">18. Cảm biến PIR</a></li>
<li class="toctree-l2"><a class="reference internal" href="cham.html">20. Cảm biến chạm</a></li>
<li class="toctree-l2"><a class="reference internal" href="nuoc.html">20. Cảm biến nước</a></li>
<li class="toctree-l2"><a class="reference internal" href="keypad.html">20. Keypad - Bàn phím cảm ứng điện dung</a></li>
<li class="toctree-l2"><a class="reference internal" href="rotary.html">22. Cảm biến góc xoay - Rotary Encoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="hx711.html">23. Mạch Chuyển Đổi ADC 24bit Loadcell HX711</a></li>
<li class="toctree-l2"><a class="reference internal" href="gps.html">24. Mạch định vị GPS NEO - 6M V2</a></li>
<li class="toctree-l2"><a class="reference internal" href="lora.html">25. Mạch thu phát LoRa E32</a></li>
<li class="toctree-l2"><a class="reference internal" href="nhip-tim.html">26. Cảm biến nhịp tim và oxy trong máu MAX30102:</a></li>
<li class="toctree-l2"><a class="reference internal" href="nhiet-do-ds18b20.html">27. Cảm biến nhiệt độ DS18B20</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../dong-co.html"><strong>Động cơ</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API thư viện</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/api-xbot.html">Robot xBot và xController</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Sa bàn thi đấu</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../sa_ban/sa_ban_index.html"><strong>Hướng dẫn sử dụng các sa bàn thi đấu</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Education Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../cam-bien.html"><strong>Cảm biến</strong></a> &raquo;</li>
      <li>15. Cảm biến góc xoay</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/mastermodule/cam-bien/goc-xoay.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="cam-bien-goc-xoay">
<h1>15. Cảm biến góc xoay<a class="headerlink" href="#cam-bien-goc-xoay" title="Permalink to this heading"></a></h1>
<a class="reference internal image-reference" href="../../_images/16.1.png"><img alt="../../_images/16.1.png" class="align-center" src="../../_images/16.1.png" style="width: 400px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ul class="simple">
<li><p>Module cảm biến góc xoay là một điện trở có ba chân tín hiệu. Điện trở của nó có thể được điều chỉnh bằng cách xoay núm xoay.</p></li>
<li><p>Phạm vi điều chỉnh của module có điện trở cao nhất là 10 KΩ. Bạn có thể sử dụng cảm biến góc xoay để điều chỉnh tốc độ quay của động cơ, độ sáng của đèn LED.</p></li>
</ul>
<section id="mua-san-pham">
<h2><strong>1. Mua sản phẩm</strong><a class="headerlink" href="#mua-san-pham" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<a class="reference external image-reference" href="https://ohstem.vn/product/cam-bien-goc-xoay/"><img alt="some image" class="with-shadow align-center" src="../../_images/gio4.png" style="width: 588.0px; height: 81.0px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="thong-so-ky-thuat">
<h2><strong>2. Thông số kỹ thuật</strong><a class="headerlink" href="#thong-so-ky-thuat" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul>
<li><p><strong>Thông số kỹ thuật</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Điện áp hoạt động: 3.3V</p></li>
<li><p>Dòng điện tối đa: 30 mA</p></li>
<li><p>Công suất: 0.1 W</p></li>
<li><p>Góc xoay: 280°</p></li>
<li><p>Tổng trở resistance: 10 KΩ</p></li>
<li><p>Kiểu tính hiệu: tín hiệu analog (0~4095)</p></li>
<li><p>Kích thước module: 48mm x 24mm x 18mm (DxRxC)</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Pinout của cảm biến</strong></p></li>
</ul>
<p>Cảm biến góc xoay có 4 chân, và mỗi chân có chức năng như sau:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 27%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>STT</p></th>
<th class="head"><p>Chân</p></th>
<th class="head"><p>Chức năng</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>GND</p></td>
<td><p>Nối đất</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>VCC</p></td>
<td><p>Cấp nguồn (3.3V)</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>NC</p></td>
<td><p>Không sử dụng</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>SIG</p></td>
<td><p>Tín hiệu ngõ ra của cảm biến</p></td>
</tr>
</tbody>
</table>
</section>
<section id="ket-noi">
<h2><strong>3. Kết nối</strong><a class="headerlink" href="#ket-noi" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p><strong>Bước 1</strong>: Chuẩn bị các thiết bị như sau:</p></li>
</ul>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><a class="reference internal image-reference" href="../../_images/yolo4.png"><img alt="../../_images/yolo4.png" class="align-center" src="../../_images/yolo4.png" style="width: 200px;" /></a>
</th>
<th class="head"><a class="reference internal image-reference" href="../../_images/mmr3.png"><img alt="../../_images/mmr3.png" class="align-center" src="../../_images/mmr3.png" style="width: 200px;" /></a>
</th>
<th class="head"><a class="reference internal image-reference" href="../../_images/16.1.png"><img alt="../../_images/16.1.png" class="align-center" src="../../_images/16.1.png" style="width: 200px;" /></a>
</th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Máy tính lập trình Yolo:Bit</p></td>
<td><p>Mạch mở rộng cho Yolo:Bit</p></td>
<td><p>Cảm biến góc xoay (kèm dây Grove)</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="https://ohstem.vn/product/may-tinh-lap-trinh-yolobit/">Mua sản phẩm</a></p></td>
<td><p><a class="reference external" href="https://ohstem.vn/product/grove-shield/">Mua sản phẩm</a></p></td>
<td><p><a class="reference external" href="https://ohstem.vn/product/cam-bien-goc-xoay/">Mua sản phẩm</a></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Bước 2</strong>: Cắm Yolo:Bit vào mạch mở rộng</p></li>
<li><p><strong>Bước 3</strong>: Sử dụng dây Grove cắm vào cảm biến</p></li>
<li><p><strong>Bước 4</strong>: Kết nối cảm biến với <strong>P0 trên mạch mở rộng</strong>.</p></li>
</ul>
<figure class="align-center" id="id4">
<a class="reference internal image-reference" href="../../_images/16.21.png"><img alt="../../_images/16.21.png" src="../../_images/16.21.png" style="width: 530.0px; height: 343.0px;" /></a>
<figcaption>
<p><span class="caption-text">Đây cũng là một cảm biến có giá trị trả về là analog, do đó bạn có thể kết nối với các chân P0, P1, P2 trên mạch mở rộng</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</section>
<section id="huong-dan-lap-trinh-voi-ohstem-app">
<h2><strong>4. Hướng dẫn lập trình với OhStem App</strong><a class="headerlink" href="#huong-dan-lap-trinh-voi-ohstem-app" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p>Sử dụng các khối lệnh trong danh mục <strong>CHÂN CẮM</strong> để thực hiện chương trình sau:</p></li>
</ul>
<a class="reference internal image-reference" href="../../_images/16.31.png"><img alt="../../_images/16.31.png" class="align-center" src="../../_images/16.31.png" style="width: 512.0px; height: 318.0px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Giải thích chương trình:</strong></p>
<p>Tạo biến một độ sáng, giá trị của độ sáng sẽ được chuyển từ giá trị analog 0- 4095 thành 0 - 100%. Khi núm xoay của cảm biến được vặn, độ sáng sẽ được thay đổi.</p>
</div>
<p><strong>Hướng dẫn tạo biến:</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Bạn cần vào mục <strong>Biến và chọn Tạo biến.</strong> Sau đó, điền tên cho biến mới để Tạo.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/16.41.png"><img alt="../../_images/16.41.png" class="align-center" src="../../_images/16.41.png" style="width: 512.0px; height: 263.0px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Khi tạo biến thành công, trong mục Biến sẽ xuất hiện những khối lệnh liên quan để làm việc với biến.</p></li>
</ol>
<a class="reference internal image-reference" href="../../_images/16.51.png"><img alt="../../_images/16.51.png" class="align-center" src="../../_images/16.51.png" style="width: 512.0px; height: 209.0px;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</section>
<section id="huong-dan-lap-trinh-arduino">
<h2><strong>5. Hướng dẫn lập trình Arduino</strong><a class="headerlink" href="#huong-dan-lap-trinh-arduino" title="Permalink to this heading"></a></h2>
<hr class="docutils" />
<ul class="simple">
<li><p>Mở phần mềm Arduino IDE. Xem hướng dẫn lập trình với Arduino <a class="reference external" href="https://docs.ohstem.vn/en/latest/module/cai-dat-arduino.html">tại đây</a>.</p></li>
<li><p>Copy đoạn code sau, click vào nút <code class="docutils literal notranslate"><span class="pre">Verify</span></code> để kiểm tra lỗi chương trình. Sau khi biên dịch không báo lỗi, bạn có thể nạp đoạn code vào board.</p></li>
</ul>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="c1">// Định nghĩa cấu hình mắcro của cảm biến góc xoay và chân LED</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;YoloBit.h&quot;</span><span class="cp"></span>

<span class="n">Yolobit</span><span class="w"> </span><span class="n">yolobit</span><span class="p">;</span><span class="w"></span>

<span class="cp">#define ROTARY_ANGLE_SENSOR P0</span>
<span class="cp">#define LED P13  </span><span class="c1">// Chân LED được kết nối đến chân PWM P13 của YoloBit</span>
<span class="cp">#define ADC_REF 3.3 </span><span class="c1">// YoloBit sử dụng 3V3, ADC_REF nên là 3,3</span>
<span class="cp">#define GROVE_VCC 3.3 </span><span class="c1">// Cấp nguồn VCC của giao diện Grove thường là 3,3V</span>
<span class="cp">#define FULL_ANGLE 300 </span><span class="c1">// Giá trị đầy đủ của góc quay là 300 độ</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">serialBegin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"> </span><span class="c1">// Khởi tạo UART với tốc độ baud rate 9600</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">pinMode</span><span class="p">(</span><span class="n">ROTARY_ANGLE_SENSOR</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT</span><span class="p">);</span><span class="w"> </span><span class="c1">// Thiết lập chân cảm biến góc xoay là chế độ đầu vào</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"> </span><span class="c1">// Thiết lập chân LED là chế độ đầu ra</span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">voltage</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">sensor_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">yolobit</span><span class="p">.</span><span class="n">analogRead</span><span class="p">(</span><span class="n">ROTARY_ANGLE_SENSOR</span><span class="p">);</span><span class="w"> </span><span class="c1">// Đọc giá trị của cảm biến</span>
<span class="w">  </span><span class="n">voltage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">sensor_value</span><span class="o">*</span><span class="n">ADC_REF</span><span class="o">/</span><span class="mi">4095</span><span class="p">;</span><span class="w"> </span><span class="c1">// Chuyển đổi giá trị analog sang giá trị điện áp</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">degrees</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">voltage</span><span class="o">*</span><span class="n">FULL_ANGLE</span><span class="p">)</span><span class="o">/</span><span class="n">GROVE_VCC</span><span class="p">;</span><span class="w"> </span><span class="c1">// Tính góc quay dựa trên giá trị điện áp đọc được</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;The angle between the mark and the starting position:&quot;</span><span class="p">);</span><span class="w"> </span><span class="c1">// In thông báo lên serial monitor</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">degrees</span><span class="p">);</span><span class="w"> </span><span class="c1">// In giá trị góc quay lên serial monitor</span>

<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">brightness</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">map</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">FULL_ANGLE</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">1023</span><span class="p">);</span><span class="w"> </span><span class="c1">// Chuyển đổi giá trị góc quay sang giá trị độ sáng của LED</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">analogWrite</span><span class="p">(</span><span class="n">LED</span><span class="p">,</span><span class="w"> </span><span class="n">brightness</span><span class="p">);</span><span class="w"> </span><span class="c1">// Điều khiển độ sáng của LED thông qua kết nối PWM</span>
<span class="w">  </span><span class="n">yolobit</span><span class="p">.</span><span class="n">delay</span><span class="p">(</span><span class="mi">500</span><span class="p">);</span><span class="w"> </span><span class="c1">// Chờ 500ms</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><strong>Giải thích chương trình:</strong> Sau khi chạy chương trình, giá trị của độ sáng sẽ được chuyển từ giá trị analog 0- 4095 thành 0 - 100%. Khi núm xoay của cảm biến được vặn, độ sáng sẽ được thay đổi.</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="am-thanh.html" class="btn btn-neutral float-left" title="14. Cảm biến âm thanh" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="anh-sang.html" class="btn btn-neutral float-right" title="16. Cảm biến ánh sáng" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>