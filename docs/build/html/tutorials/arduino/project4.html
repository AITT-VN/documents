<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>19. Project 4: Hệ thống chống trộm và báo động &mdash; OhStem Product Documents 0.0.2 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="20. Project 5: Cửa thông minh" href="project5.html" />
    <link rel="prev" title="18. Project 3: Đèn thông minh" href="project3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
            <a href="../../index.html">
            <img src="../../_static/logo-ohstem.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Cửa hàng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../store/store.html">Đi tới cửa hàng</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Yolo:Bit</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/lam-quen.html"><strong>Làm quen với Yolo:Bit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/rover.html"><strong>Rover - Kit robot lập trình</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/aiot.html"><strong>AIoT Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/homebit.html"><strong>Home:Bit - Bộ Kit nhà thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/plantbit.html"><strong>Plant:Bit - Bộ Kit trồng cây thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/citybit.html"><strong>City:Bit - Bộ Kit thành phố thông minh</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../yolobit_v2/physbit.html"><strong>Phys:Bit - Kit học điện tử</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBot</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/xbot.html"><strong>Robot lập trình xBot</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/inventor.html"><strong>xBot Inventor Kit</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/gripper.html"><strong>Đầu gắp Gripper</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dumptruck.html"><strong>Bộ Dump Truck</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../xbot/dau-nang.html"><strong>Đầu nâng ForkLift</strong></a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">xBuild Creator Kit</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../micropython/index.html">Hướng dẫn lập trình MicroPython</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Hướng dẫn lập trình Arduino</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="setup.html">1. Hướng Dẫn Cài Đặt Arduino và xController</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson1.html">2. Bài học 1: Hello world</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson2.html">3. Bài học 2: Blink LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson3.html">4. Bài học 3: Nhấn nút bật đèn LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson4.html">5. Bài học 4: Điều khiển tốc độ chớp tắt đèn LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson5.html">6. Bài học 5: Điều chỉnh độ sáng LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson6.html">7. Bài học 6: Đèn LED RGB cảm ứng</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson7.html">8. Bài học 7: Vỗ tay thay đổi màu đèn LED</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson8.html">9. Bài học 8: Phát nhạc với còi báo</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson9.html">10. Bài học 9: Cảm biến gia tốc góc nghiêng</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson10.html">11. Bài học 10: Hiển thị thông tin lên màn hình LCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson11.html">12. Bài học 11: Theo dõi nhiệt độ, độ ẩm trên LCD</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson12.html">13. Bài học 12: Remote hồng ngoại</a></li>
<li class="toctree-l2"><a class="reference internal" href="lesson13.html">14. Bài học 13: Giao tiếp Bluetooth Low Energy</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html">15. Giới thiệu về dự án Nhà thông minh</a></li>
<li class="toctree-l2"><a class="reference internal" href="project1.html">16. Project 1: Đèn điều khiển từ xa</a></li>
<li class="toctree-l2"><a class="reference internal" href="project2.html">17. Project 2: Quạt thông minh</a></li>
<li class="toctree-l2"><a class="reference internal" href="project3.html">18. Project 3: Đèn thông minh</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">19. Project 4: Hệ thống chống trộm và báo động</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#muc-tieu">Mục tiêu</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thiet-bi-can-su-dung">Thiết bị cần sử dụng</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ket-noi-phan-cung">Kết nối phần cứng</a></li>
<li class="toctree-l3"><a class="reference internal" href="#viet-chuong-trinh">Viết chương trình</a></li>
<li class="toctree-l3"><a class="reference internal" href="#giai-thich-chuong-trinh">Giải thích chương trình</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="project5.html">20. Project 5: Cửa thông minh</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Game Kit - Kit học lập trình game</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/gioi-thieu.html">Giới thiệu về Gamekit và Arcade MakeCode</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/khai-niem.html">Các khái niệm trong Game</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../gamekit/huong-dan.html">Hướng dẫn làm một số Game cơ bản</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Các module mở rộng</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../module/cam-bien.html"><strong>Cảm biến</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/hien-thi.html"><strong>Hiển thị</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/dieu-khien-dong-ngat.html"><strong>Điều khiển đóng ngắt</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../../module/board-mo-rong.html"><strong>Board mở rộng</strong></a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: white" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OhStem Product Documents</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Hướng dẫn lập trình Arduino</a> &raquo;</li>
      <li>19. Project 4: Hệ thống chống trộm và báo động</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/username/reponame/blob/mastertutorials/arduino/project4.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="project-4-he-thong-chong-trom-va-bao-dong">
<h1>19. Project 4: Hệ thống chống trộm và báo động<a class="headerlink" href="#project-4-he-thong-chong-trom-va-bao-dong" title="Permalink to this heading"></a></h1>
<section id="muc-tieu">
<h2>Mục tiêu<a class="headerlink" href="#muc-tieu" title="Permalink to this heading"></a></h2>
<p>Ngôi nhà nào cũng cần phải đảm bảo sự an toàn cho chủ nhân của nó, đúng không nào? Trong project này, chúng ta sẽ làm cho ngôi nhà trở nên an toàn hơn bằng cách xây dựng hệ thống an ninh: tự động hú còi báo động và chớp đèn liên tục khi phát hiện có sự xâm nhập trái phép.</p>
<p>Hệ thống này sẽ hoạt động kết với hợp remote điều khiển như sau:</p>
<blockquote>
<div><ul class="simple">
<li><p>Bật chế độ bảo vệ bằng nút nhấn tích hợp trên hộp điều khiển xController</p></li>
<li><p>Khi chế độ bảo vệ được bật, nếu phát hiện có sự chuyển động thì sẽ tự động hú còi cảnh báo và chớp đèn liên tục trong vòng 5 giây.</p></li>
</ul>
</div></blockquote>
</section>
<section id="thiet-bi-can-su-dung">
<h2>Thiết bị cần sử dụng<a class="headerlink" href="#thiet-bi-can-su-dung" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="../../_images/project-4-11.png"><img alt="../../_images/project-4-11.png" class="align-center" src="../../_images/project-4-11.png" style="width: 600px;" /></a>
</section>
<section id="ket-noi-phan-cung">
<h2>Kết nối phần cứng<a class="headerlink" href="#ket-noi-phan-cung" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="../../_images/project-4-21.png"><img alt="../../_images/project-4-21.png" class="align-center" src="../../_images/project-4-21.png" style="width: 600px;" /></a>
</section>
<section id="viet-chuong-trinh">
<h2>Viết chương trình<a class="headerlink" href="#viet-chuong-trinh" title="Permalink to this heading"></a></h2>
<p>Mở phần mềm Arduino IDE.</p>
<p>Copy đoạn code sau, click vào nút <code class="docutils literal notranslate"><span class="pre">Verify</span></code> để kiểm tra lỗi chương trình. Sau khi biên dịch không báo lỗi, bạn có thể nạp đoạn code vào board.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;xcontroller.h&gt;</span><span class="cp"></span>

<span class="cp">#define BUZZER_CHANNEL 0 </span><span class="c1">// any from 0-15</span>
<span class="cp">#define PIR_PIN D5_1</span>

<span class="n">XController</span><span class="w"> </span><span class="n">xcon</span><span class="p">;</span><span class="w"></span>
<span class="kt">bool</span><span class="w"> </span><span class="n">alarmMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">pirState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">PIR_PIN</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">BUTTON</span><span class="p">,</span><span class="w"> </span><span class="n">INPUT</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">digitalRead</span><span class="p">(</span><span class="n">BUTTON</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">LOW</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// bật tắt chế độ bảo vệ</span>
<span class="w">    </span><span class="n">alarmMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">alarmMode</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">alarmMode</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Chế độ bảo vệ được bật&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Chế độ bảo vệ được tắt&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">200</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>

<span class="w">  </span><span class="n">pirState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">digitalRead</span><span class="p">(</span><span class="n">PIR_PIN</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">alarmMode</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">pirState</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">HIGH</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Phát hiện có người xâm nhập&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="n">xcon</span><span class="p">.</span><span class="n">showLED</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">255</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">xcon</span><span class="p">.</span><span class="n">tone</span><span class="p">(</span><span class="n">NOTE_C4</span><span class="p">,</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w"> </span><span class="n">BUZZER_CHANNEL</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">xcon</span><span class="p">.</span><span class="n">noTone</span><span class="p">(</span><span class="n">BUZZER_CHANNEL</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">xcon</span><span class="p">.</span><span class="n">showLED</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"></span>
<span class="w">      </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="giai-thich-chuong-trinh">
<h2>Giải thích chương trình<a class="headerlink" href="#giai-thich-chuong-trinh" title="Permalink to this heading"></a></h2>
<p>Trong chương trình trên, chúng ta khai báo biến <code class="docutils literal notranslate"><span class="pre">alarmMode</span></code> kiểu <code class="docutils literal notranslate"><span class="pre">bool</span></code> (có giá trị <code class="docutils literal notranslate"><span class="pre">true</span></code> hoặc <code class="docutils literal notranslate"><span class="pre">false</span></code>) để lưu trạng thái bật tắt của chế độ bảo vệ. Chế độ này sẽ <code class="docutils literal notranslate"><span class="pre">bật/tắt</span></code> khi nút trên board được nhấn.</p>
<p>Nếu chế độ này đang được bật, đồng thời phát hiện có sự chuyển động thì ngôi nhà sẽ nháy đèn LED RGB và phát âm thanh báo động 5 lần, đủ để cho kẻ trộm chạy mất và chủ nhà thức giấc.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="project3.html" class="btn btn-neutral float-left" title="18. Project 3: Đèn thông minh" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="project5.html" class="btn btn-neutral float-right" title="20. Project 5: Cửa thông minh" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, OHSTEM.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>